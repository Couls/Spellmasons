var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(n)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l,i;function a(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function u(t,n,o,s){return t[1]&&s?e(o.ctx.slice(),t[1](s(n))):o.ctx}function d(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function f(t,e){const n={};e=new Set(e);for(const o in t)e.has(o)||"$"===o[0]||(n[o]=t[o]);return n}function p(t,e){t.appendChild(e)}function $(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function g(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function v(t){return document.createTextNode(t)}function w(){return v(" ")}function x(){return v("")}function y(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)null==e[o]?t.removeAttribute(o):"style"===o?t.style.cssText=e[o]:"__value"===o?t.value=t[o]=e[o]:n[o]&&n[o].set?t[o]=e[o]:b(t,o,e[o])}function R(t,e){t.value=null==e?"":e}function A(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function C(t,e,n){t.classList[n?"add":"remove"](e)}function _(t){i=t}function M(){if(!i)throw new Error("Function called outside component initialization");return i}function L(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const S=[],E=[],P=[],j=[],N=Promise.resolve();let G=!1;function I(t){P.push(t)}const T=new Set;let O=0;function B(){const t=i;do{for(;O<S.length;){const t=S[O];O++,_(t),D(t.$$)}for(_(null),S.length=0,O=0;E.length;)E.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];T.has(e)||(T.add(e),e())}P.length=0}while(S.length);for(;j.length;)j.pop()();G=!1,T.clear(),_(t)}function D(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const U=new Set;let V;function F(){V={r:0,c:[],p:V}}function z(){V.r||s(V.c),V=V.p}function H(t,e){t&&t.i&&(U.delete(t),t.i(e))}function J(t,e,n,o){if(t&&t.o){if(U.has(t))return;U.add(t),V.c.push((()=>{U.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function Y(t,e){const n={},o={},s={$$scope:1};let r=t.length;for(;r--;){const c=t[r],l=e[r];if(l){for(const t in c)t in l||(o[t]=1);for(const t in l)s[t]||(n[t]=l[t],s[t]=1);t[r]=l}else for(const t in c)s[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function q(t){t&&t.c()}function W(t,e,o,c){const{fragment:l,on_mount:i,on_destroy:a,after_update:u}=t.$$;l&&l.m(e,o),c||I((()=>{const e=i.map(n).filter(r);a?a.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(I)}function Z(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function K(t,e){-1===t.$$.dirty[0]&&(S.push(t),G||(G=!0,N.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(e,n,r,c,l,a,u,d=[-1]){const f=i;_(e);const p=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:o(),dirty:d,skip_bound:!1,root:n.target||f.$$.root};u&&u(p.root);let $=!1;if(p.ctx=r?r(e,n.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return p.ctx&&l(p.ctx[t],p.ctx[t]=s)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](s),$&&K(e,t)),n})):[],p.update(),$=!0,s(p.before_update),p.fragment=!!c&&c(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(m)}else p.fragment&&p.fragment.c();n.intro&&H(e.$$.fragment),W(e,n.target,n.anchor,n.customElement),B()}_(f)}class X{$destroy(){Z(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function tt(n){let o,s,r,c,l,i,a=[{class:c=`button-wrapper ${n[2]} ${n[1]?"is-active":""}`},n[3]],u={};for(let t=0;t<a.length;t+=1)u=e(u,a[t]);return{c(){o=g("button"),s=g("div"),r=v(n[0]),k(o,u)},m(t,e){$(t,o,e),p(o,s),p(s,r),o.autofocus&&o.focus(),l||(i=y(o,"click",n[4]),l=!0)},p(t,[e]){1&e&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(r,t[0]),k(o,u=Y(a,[6&e&&c!==(c=`button-wrapper ${t[2]} ${t[1]?"is-active":""}`)&&{class:c},8&e&&t[3]]))},i:t,o:t,d(t){t&&m(o),l=!1,i()}}}function et(t,n,o){const s=["text","isActive","class"];let r=f(n,s),{text:c}=n,{isActive:l}=n,{class:i=""}=n;return t.$$set=t=>{n=e(e({},n),d(t)),o(3,r=f(n,s)),"text"in t&&o(0,c=t.text),"isActive"in t&&o(1,l=t.isActive),"class"in t&&o(2,i=t.class)},[c,l,i,r,function(e){L.call(this,t,e)}]}class nt extends X{constructor(t){super(),Q(this,t,et,tt,c,{text:0,isActive:1,class:2})}}function ot(t,e,n){const o=t.slice();return o[5]=e[n][0],o[6]=e[n][1],o[8]=n,o}function st(e){let n,o,s,r,c,l=e[5]+"",i=e[6]+"";return{c(){n=g("tr"),o=g("td"),s=v(l),r=g("td"),c=v(i)},m(t,e){$(t,n,e),p(n,o),p(o,s),p(n,r),p(r,c)},p:t,d(t){t&&m(n)}}}function rt(t){let e,n,o,s,r,c,l,i,a,u,d;s=new nt({props:{type:"button",text:"ðŸ ” Back",class:"sm"}}),s.$on("click",t[4]);let f=t[1],h=[];for(let e=0;e<f.length;e+=1)h[e]=st(ot(t,f,e));return{c(){e=g("div"),n=g("aside"),o=g("div"),q(s.$$.fragment),r=w(),c=g("span"),c.textContent="Credits",l=w(),i=g("main"),a=g("table"),u=g("tbody");for(let t=0;t<h.length;t+=1)h[t].c();b(o,"class","flex align-items-center gap-15 svelte-5yfd45"),b(n,"class","flex flex-direction-column gap-15"),b(e,"class","flex svelte-5yfd45")},m(t,f){$(t,e,f),p(e,n),p(n,o),W(s,o,null),p(o,r),p(o,c),p(e,l),p(e,i),p(i,a),p(a,u);for(let t=0;t<h.length;t+=1)h[t].m(u,null);d=!0},p(t,[e]){if(2&e){let n;for(f=t[1],n=0;n<f.length;n+=1){const o=ot(t,f,n);h[n]?h[n].p(o,e):(h[n]=st(o),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=f.length}},i(t){d||(H(s.$$.fragment,t),d=!0)},o(t){J(s.$$.fragment,t),d=!1},d(t){t&&m(e),Z(s),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(h,t)}}}function ct(t,e,n){let{setRoute:o}=e,{lastRoute:s}=e;function r(){o(s)}return t.$$set=t=>{"setRoute"in t&&n(2,o=t.setRoute),"lastRoute"in t&&n(3,s=t.lastRoute)},[r,[["Jordan O'Leary","Programming, Game Design, and Concept"],["theBlurryBox","Art and Animation"],["Valentin Cochet","@coc_val | Sound Effect Design"],["Jake O'Connell","UI Design"],["BananaMilk","Music"],["Lost Lumens, Brad Clark","Audio Mastering"],["Matt Sweda","Concept Ideation Assistance"]],o,s,()=>r()]}class lt extends X{constructor(t){super(),Q(this,t,ct,rt,c,{setRoute:2,lastRoute:3})}}function it(e){let n;return{c(){n=g("table"),n.innerHTML='<tr><td>Clear Active Spell</td> \n        <td><kbd class="hotkey-badge">Esc</kbd></td></tr> \n    <tr id="center-cam-info"><td>Free Look</td> \n        <td><kbd class="hotkey-badge">W</kbd> \n            <kbd class="hotkey-badge">A</kbd> \n            <kbd class="hotkey-badge">S</kbd> \n            <kbd class="hotkey-badge">D</kbd>\n            or Click and Drag Middle Mouse Button</td></tr> \n    <tr id="center-cam-tooltip"><td>Camera Follow Player</td> \n        <td><kbd class="hotkey-badge">Z</kbd></td></tr> \n    <tr><td>Ping Location</td> \n        <td><kbd class="hotkey-badge">C</kbd></td></tr> \n    <tr><td>Toggle Menu</td> \n        <td><kbd class="hotkey-badge">Esc</kbd></td></tr> \n    <tr><td>Inventory</td> \n        <td><kbd class="hotkey-badge">Tab</kbd>\n            /\n            <kbd class="hotkey-badge">i</kbd></td></tr> \n    <tr><td>View Walk Distance</td> \n        <td><kbd class="hotkey-badge">f</kbd></td></tr>',b(n,"id","keymapping")},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}class at extends X{constructor(t){super(),Q(this,t,null,it,c,{})}}function ut(e){let n,o,r,c,l,i,a,u,d,f;return{c(){n=g("div"),o=g("label"),o.textContent="Robe Color",r=w(),c=g("input"),l=w(),i=g("label"),i.textContent="Player Name",a=w(),u=g("input"),b(o,"for","robe"),b(c,"type","color"),b(c,"name","robe"),b(i,"for","player-name"),b(u,"type","text"),b(u,"name","player-name"),b(n,"class","flex flex-direction-column gap-15")},m(t,s){$(t,n,s),p(n,o),p(n,r),p(n,c),R(c,e[1]),p(n,l),p(n,i),p(n,a),p(n,u),R(u,e[0]),d||(f=[y(c,"input",e[3]),y(c,"blur",e[4]),y(u,"input",e[5]),y(u,"input",e[6])],d=!0)},p(t,[e]){2&e&&R(c,t[1]),1&e&&u.value!==t[0]&&R(u,t[0])},i:t,o:t,d(t){t&&m(n),d=!1,s(f)}}}function dt(t,e,n){let o=localStorage.getItem("player-name"),s=`#${parseInt(localStorage.getItem("player-color")).toString(16)}`;const r=t=>parseInt(t.slice(1),16);return[o,s,r,function(){s=this.value,n(1,s)},()=>{window.configPlayer({color:r(s),name:o})},function(){o=this.value,n(0,o)},()=>{window.configPlayer({color:r(s),name:o})}]}class ft extends X{constructor(t){super(),Q(this,t,dt,ut,c,{})}}function pt(e){let n,o,s;return o=new nt({props:{text:"Toggle FPS/Latency Monitor"}}),o.$on("click",e[10]),{c(){n=g("div"),q(o.$$.fragment)},m(t,e){$(t,n,e),W(o,n,null),s=!0},p:t,i(t){s||(H(o.$$.fragment,t),s=!0)},o(t){J(o.$$.fragment,t),s=!1},d(t){t&&m(n),Z(o)}}}function $t(t){let e,n;return e=new at({props:{setRoute:t[0],lastRoute:t[1]}}),{c(){q(e.$$.fragment)},m(t,o){W(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.setRoute=t[0]),2&n&&(o.lastRoute=t[1]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function mt(t){let e,n;return e=new ft({props:{setRoute:t[0],lastRoute:t[1]}}),{c(){q(e.$$.fragment)},m(t,o){W(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.setRoute=t[0]),2&n&&(o.lastRoute=t[1]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function gt(e){let n,o,r,c,l,i,a,u,d;return{c(){n=g("div"),o=v("Total Volume:\r\n                    "),r=g("input"),c=v("\r\n                    Music Volume:\r\n                    "),l=g("input"),i=v("\r\n                    Sound Effects Volume:\r\n                    "),a=g("input"),b(r,"type","range"),r.value=100*window.volume,b(r,"min","0"),b(r,"max","100"),b(l,"type","range"),l.value=100*window.volumeMusic,b(l,"min","0"),b(l,"max","100"),b(a,"type","range"),a.value=100*window.volumeGame,b(a,"min","0"),b(a,"max","100"),b(n,"class","flex flex-direction-column gap-15")},m(t,e){$(t,n,e),p(n,o),p(n,r),p(n,c),p(n,l),p(n,i),p(n,a),u||(d=[y(r,"input",bt),y(l,"input",kt),y(a,"input",Rt)],u=!0)},p:t,i:t,o:t,d(t){t&&m(n),u=!1,s(d)}}}function ht(t){let e,n,o,s,r,c,l,i,a,u,d,f,h,v,x,y,k,R,A,C,_,M;r=new nt({props:{type:"button",text:"ðŸ ” Back",class:"sm"}}),r.$on("click",t[5]),u=new nt({props:{isActive:t[2]==yt,type:"button",text:"Audio"}}),u.$on("click",t[6]),f=new nt({props:{isActive:t[2]==xt,type:"button",text:"Player Configuration"}}),f.$on("click",t[7]),v=new nt({props:{isActive:t[2]==vt,type:"button",text:"Controls"}}),v.$on("click",t[8]),y=new nt({props:{isActive:t[2]==wt,type:"button",text:"Extras"}}),y.$on("click",t[9]);const L=[gt,mt,$t,pt],S=[];function E(t,e){return t[2]==yt?0:t[2]==xt?1:t[2]==vt?2:t[2]==wt?3:-1}return~(C=E(t))&&(_=S[C]=L[C](t)),{c(){e=g("div"),n=g("aside"),o=g("div"),s=g("div"),q(r.$$.fragment),c=w(),l=g("h1"),l.textContent="Settings",i=w(),a=g("div"),q(u.$$.fragment),d=w(),q(f.$$.fragment),h=w(),q(v.$$.fragment),x=w(),q(y.$$.fragment),k=w(),R=g("main"),A=g("div"),_&&_.c(),b(l,"class","options-title svelte-exei4x"),b(s,"class","flex align-items-center gap-20"),b(a,"class","flex flex-direction-column gap-15"),b(o,"class","flex flex-direction-column gap-15 pad-20"),b(n,"class","svelte-exei4x"),b(A,"class","pad-20"),b(e,"class","flex")},m(t,m){$(t,e,m),p(e,n),p(n,o),p(o,s),W(r,s,null),p(s,c),p(s,l),p(o,i),p(o,a),W(u,a,null),p(a,d),W(f,a,null),p(a,h),W(v,a,null),p(a,x),W(y,a,null),p(e,k),p(e,R),p(R,A),~C&&S[C].m(A,null),M=!0},p(t,[e]){const n={};4&e&&(n.isActive=t[2]==yt),u.$set(n);const o={};4&e&&(o.isActive=t[2]==xt),f.$set(o);const s={};4&e&&(s.isActive=t[2]==vt),v.$set(s);const r={};4&e&&(r.isActive=t[2]==wt),y.$set(r);let c=C;C=E(t),C===c?~C&&S[C].p(t,e):(_&&(F(),J(S[c],1,1,(()=>{S[c]=null})),z()),~C?(_=S[C],_?_.p(t,e):(_=S[C]=L[C](t),_.c()),H(_,1),_.m(A,null)):_=null)},i(t){M||(H(r.$$.fragment,t),H(u.$$.fragment,t),H(f.$$.fragment,t),H(v.$$.fragment,t),H(y.$$.fragment,t),H(_),M=!0)},o(t){J(r.$$.fragment,t),J(u.$$.fragment,t),J(f.$$.fragment,t),J(v.$$.fragment,t),J(y.$$.fragment,t),J(_),M=!1},d(t){t&&m(e),Z(r),Z(u),Z(f),Z(v),Z(y),~C&&S[C].d()}}}const vt="KEY_MAPPING",wt="EXTRAS",xt="PLAYER_CONFIG",yt="AUDIO";function bt(t){window.changeVolume(t.target.value/100)}function kt(t){window.changeVolumeMusic(t.target.value/100)}function Rt(t){window.changeVolumeGame(t.target.value/100)}function At(t,e,n){let{setRoute:o}=e,{lastRoute:s}=e,r=yt;function c(t){n(2,r=t)}function l(){o(s)}function i(t){if("Escape"===t.code)l()}var a;a=()=>{document.body.addEventListener("keydown",i)},M().$$.on_mount.push(a),function(t){M().$$.on_destroy.push(t)}((()=>{document.body.removeEventListener("keydown",i)}));return t.$$set=t=>{"setRoute"in t&&n(0,o=t.setRoute),"lastRoute"in t&&n(1,s=t.lastRoute)},[o,s,r,c,l,()=>l(),()=>c(yt),()=>c(xt),()=>c(vt),()=>c(wt),()=>{window.monitorFPS()}]}class Ct extends X{constructor(t){super(),Q(this,t,At,ht,c,{setRoute:0,lastRoute:1})}}function _t(t){let n,o,s,r,c,l;const i=t[4].default,a=function(t,e,n,o){if(t){const s=u(t,e,n,o);return t[0](s)}}(i,t,t[3],null);let d=[{class:s=`button-wrapper ${t[1]} ${t[0]?"is-active":""}`},t[2]],f={};for(let t=0;t<d.length;t+=1)f=e(f,d[t]);return{c(){n=g("button"),o=g("div"),a&&a.c(),b(o,"class","svelte-1k1vcg6"),k(n,f),C(n,"svelte-1k1vcg6",!0)},m(e,s){$(e,n,s),p(n,o),a&&a.m(o,null),n.autofocus&&n.focus(),r=!0,c||(l=y(n,"click",t[5]),c=!0)},p(t,[e]){a&&a.p&&(!r||8&e)&&function(t,e,n,o,s,r){if(s){const c=u(e,n,o,r);t.p(c,s)}}(a,i,t,t[3],r?function(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|s[o];return t}return e.dirty|s}return e.dirty}(i,t[3],e,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[3]),null),k(n,f=Y(d,[(!r||3&e&&s!==(s=`button-wrapper ${t[1]} ${t[0]?"is-active":""}`))&&{class:s},4&e&&t[2]])),C(n,"svelte-1k1vcg6",!0)},i(t){r||(H(a,t),r=!0)},o(t){J(a,t),r=!1},d(t){t&&m(n),a&&a.d(t),c=!1,l()}}}function Mt(t,n,o){const s=["isActive","class"];let r=f(n,s),{$$slots:c={},$$scope:l}=n,{isActive:i}=n,{class:a=""}=n;return t.$$set=t=>{n=e(e({},n),d(t)),o(2,r=f(n,s)),"isActive"in t&&o(0,i=t.isActive),"class"in t&&o(1,a=t.class),"$$scope"in t&&o(3,l=t.$$scope)},[i,a,r,l,c,function(e){L.call(this,t,e)}]}class Lt extends X{constructor(t){super(),Q(this,t,Mt,_t,c,{isActive:0,class:1})}}function St(n){let o,s,r,c,l,i,u,d,f=[{class:i=`button-wrapper ${n[5]} ${n[4]?"is-active":""}`},n[6]],h={};for(let t=0;t<f.length;t+=1)h=e(h,f[t]);return{c(){o=g("a"),s=g("button"),r=g("div"),c=g("img"),a(c.src,l=n[0])||b(c,"src",l),b(c,"width",n[3]),b(c,"alt",n[1]),b(r,"class","svelte-1cz9ca7"),k(s,h),C(s,"svelte-1cz9ca7",!0),b(o,"href",n[2])},m(t,e){$(t,o,e),p(o,s),p(s,r),p(r,c),s.autofocus&&s.focus(),u||(d=y(s,"click",n[7]),u=!0)},p(t,[e]){1&e&&!a(c.src,l=t[0])&&b(c,"src",l),8&e&&b(c,"width",t[3]),2&e&&b(c,"alt",t[1]),k(s,h=Y(f,[48&e&&i!==(i=`button-wrapper ${t[5]} ${t[4]?"is-active":""}`)&&{class:i},64&e&&t[6]])),C(s,"svelte-1cz9ca7",!0),4&e&&b(o,"href",t[2])},i:t,o:t,d(t){t&&m(o),u=!1,d()}}}function Et(t,n,o){const s=["src","alt","href","width","isActive","class"];let r=f(n,s),{src:c}=n,{alt:l}=n,{href:i}=n,{width:a}=n,{isActive:u}=n,{class:p=""}=n;return t.$$set=t=>{n=e(e({},n),d(t)),o(6,r=f(n,s)),"src"in t&&o(0,c=t.src),"alt"in t&&o(1,l=t.alt),"href"in t&&o(2,i=t.href),"width"in t&&o(3,a=t.width),"isActive"in t&&o(4,u=t.isActive),"class"in t&&o(5,p=t.class)},[c,l,i,a,u,p,r,function(e){L.call(this,t,e)}]}class Pt extends X{constructor(t){super(),Q(this,t,Et,St,c,{src:0,alt:1,href:2,width:3,isActive:4,class:5})}}function jt(e){let n,o,s,r,c,l,i,a,u,d,f,g,w,x,y,k,R,A,C,_;return{c(){n=h("svg"),o=h("title"),s=v("Language / Localization"),r=h("defs"),c=h("style"),l=v(".cls-1 {\r\n                stroke: #231f20;\r\n            }\r\n\r\n            .cls-1,\r\n            .cls-2 {\r\n                fill: none;\r\n                stroke-miterlimit: 10;\r\n            }\r\n\r\n            .cls-2 {\r\n                stroke: #fff;\r\n            }\r\n        "),i=h("g"),a=h("circle"),u=h("path"),d=h("line"),f=h("g"),g=h("path"),w=h("g"),x=h("path"),y=h("g"),k=h("path"),R=h("g"),A=h("path"),C=h("g"),_=h("line"),b(o,"id","title"),b(a,"class","cls-2"),b(a,"cx","32.5"),b(a,"cy","32.5"),b(a,"r","32"),b(u,"class","cls-1"),b(u,"d","M32.5,64.5v0Z"),b(d,"class","cls-2"),b(d,"x1",".5"),b(d,"y1","32.5"),b(d,"x2","64.5"),b(d,"y2","32.5"),b(i,"id","Layer_1"),b(i,"data-name","Layer 1"),b(g,"class","cls-2"),b(g,"d","M32.5,64.5C-8.55,32.5,32.5,.5,32.5,.5"),b(f,"id","Layer_2"),b(f,"data-name","Layer 2"),b(x,"class","cls-2"),b(x,"d","M32.5,.5s42.98,32,0,64"),b(w,"id","Layer_3"),b(w,"data-name","Layer 3"),b(k,"class","cls-2"),b(k,"d","M11.22,8.49s21.28,13.57,42.6,.15"),b(y,"id","Layer_4"),b(y,"data-name","Layer 4"),b(A,"class","cls-2"),b(A,"d","M11.22,56.56s21.28-13.27,42.6,0"),b(R,"id","Layer_5"),b(R,"data-name","Layer 5"),b(_,"class","cls-2"),b(_,"x1","32.5"),b(_,"y1",".5"),b(_,"x2","32.5"),b(_,"y2","64.5"),b(C,"id","Layer_6"),b(C,"data-name","Layer 6"),b(n,"xmlns","http://www.w3.org/2000/svg"),b(n,"viewBox","-1 0 67 66"),b(n,"labelledby","title"),b(n,"role","img"),b(n,"class","svelte-1sy6cvw")},m(t,e){$(t,n,e),p(n,o),p(o,s),p(n,r),p(r,c),p(c,l),p(n,i),p(i,a),p(i,u),p(i,d),p(n,f),p(f,g),p(n,w),p(w,x),p(n,y),p(y,k),p(n,R),p(R,A),p(n,C),p(C,_)},p:t,i:t,o:t,d(t){t&&m(n)}}}class Nt extends X{constructor(t){super(),Q(this,t,null,jt,c,{})}}const Gt="OPTIONS",It="CREDITS",Tt="PLAY",Ot="TODO";function Bt(t){let e,n;return e=new Nt({}),{c(){q(e.$$.fragment)},m(t,o){W(e,t,o),n=!0},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Dt(t){let e,n,o,s,r={ctx:t,current:null,token:null,hasCatch:!0,pending:Wt,then:Ft,catch:Vt,blocks:[,,,]};return function(t,e){const n=e.token={};function o(t,o,s,r){if(e.token!==n)return;e.resolved=r;let c=e.ctx;void 0!==s&&(c=c.slice(),c[s]=r);const l=t&&(e.current=t)(c);let i=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(F(),J(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),z())})):e.block.d(1),l.c(),H(l,1),l.m(e.mount(),e.anchor),i=!0),e.block=l,e.blocks&&(e.blocks[o]=l),i&&B()}if((s=t)&&"object"==typeof s&&"function"==typeof s.then){const n=M();if(t.then((t=>{_(n),o(e.then,1,e.value,t),_(null)}),(t=>{if(_(n),o(e.catch,2,e.error,t),_(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var s}(window.setupPixiPromise,r),{c(){e=g("div"),n=w(),o=x(),r.block.c(),b(e,"id","websocket-pie-connection-status")},m(t,c){$(t,e,c),$(t,n,c),$(t,o,c),r.block.m(t,r.anchor=c),r.mount=()=>o.parentNode,r.anchor=o,s=!0},p(e,n){!function(t,e,n){const o=e.slice(),{resolved:s}=t;t.current===t.then&&(o[t.value]=s),t.current===t.catch&&(o[t.error]=s),t.block.p(o,n)}(r,t=e,n)},i(t){s||(H(r.block),s=!0)},o(t){for(let t=0;t<3;t+=1){J(r.blocks[t])}s=!1},d(t){t&&m(e),t&&m(n),t&&m(o),r.block.d(t),r.token=null,r=null}}}function Ut(e){let n,o,s,r,c,l,i;return o=new nt({props:{text:"Resume Game"}}),o.$on("click",Kt),r=new nt({props:{text:"Settings"}}),r.$on("click",e[16]),l=new nt({props:{text:"Quit to Main Menu"}}),l.$on("click",e[12]),{c(){n=g("div"),q(o.$$.fragment),s=w(),q(r.$$.fragment),c=w(),q(l.$$.fragment),b(n,"class","list svelte-1156jxt")},m(t,e){$(t,n,e),W(o,n,null),p(n,s),W(r,n,null),p(n,c),W(l,n,null),i=!0},p:t,i(t){i||(H(o.$$.fragment,t),H(r.$$.fragment,t),H(l.$$.fragment,t),i=!0)},o(t){J(o.$$.fragment,t),J(r.$$.fragment,t),J(l.$$.fragment,t),i=!1},d(t){t&&m(n),Z(o),Z(r),Z(l)}}}function Vt(e){let n;return{c(){n=g("p"),n.textContent="Something went wrong loading assets",A(n,"color","red")},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}function Ft(t){let e,n,o,s,r,c,l,i,a,u,d;n=new nt({props:{text:"New Run"}}),n.$on("click",t[8]),s=new nt({props:{text:"Multiplayer"}}),s.$on("click",t[9]),c=new nt({props:{text:"Settings"}}),c.$on("click",t[17]);let f=!1===t[4]&&zt(t);return{c(){e=g("div"),q(n.$$.fragment),o=w(),q(s.$$.fragment),r=w(),q(c.$$.fragment),l=w(),i=g("br"),a=w(),f&&f.c(),u=x(),b(e,"class","list svelte-1156jxt")},m(t,m){$(t,e,m),W(n,e,null),p(e,o),W(s,e,null),p(e,r),W(c,e,null),$(t,l,m),$(t,i,m),$(t,a,m),f&&f.m(t,m),$(t,u,m),d=!0},p(t,e){!1===t[4]?f?(f.p(t,e),16&e&&H(f,1)):(f=zt(t),f.c(),H(f,1),f.m(u.parentNode,u)):f&&(F(),J(f,1,1,(()=>{f=null})),z())},i(t){d||(H(n.$$.fragment,t),H(s.$$.fragment,t),H(c.$$.fragment,t),H(f),d=!0)},o(t){J(n.$$.fragment,t),J(s.$$.fragment,t),J(c.$$.fragment,t),J(f),d=!1},d(t){t&&m(e),Z(n),Z(s),Z(c),t&&m(l),t&&m(i),t&&m(a),f&&f.d(t),t&&m(u)}}}function zt(t){let e,n,o,r,c,l,i,a,u,d,f,h,b;c=new nt({props:{disabled:t[7],text:"Connect"}}),c.$on("click",t[10]),i=new nt({props:{disabled:!t[7],text:"Disconnect"}}),i.$on("click",t[11]);let k=t[2]&&Ht(),A=t[7]&&Jt(t);return{c(){e=v("Server Url\r\n            "),n=g("div"),o=g("input"),r=w(),q(c.$$.fragment),l=w(),q(i.$$.fragment),a=w(),k&&k.c(),u=w(),A&&A.c(),d=x()},m(s,m){$(s,e,m),$(s,n,m),p(n,o),R(o,t[5]),p(n,r),W(c,n,null),p(n,l),W(i,n,null),$(s,a,m),k&&k.m(s,m),$(s,u,m),A&&A.m(s,m),$(s,d,m),f=!0,h||(b=[y(o,"input",t[18]),y(o,"keypress",t[19])],h=!0)},p(t,e){32&e&&o.value!==t[5]&&R(o,t[5]);const n={};128&e&&(n.disabled=t[7]),c.$set(n);const s={};128&e&&(s.disabled=!t[7]),i.$set(s),t[2]?k||(k=Ht(),k.c(),k.m(u.parentNode,u)):k&&(k.d(1),k=null),t[7]?A?(A.p(t,e),128&e&&H(A,1)):(A=Jt(t),A.c(),H(A,1),A.m(d.parentNode,d)):A&&(F(),J(A,1,1,(()=>{A=null})),z())},i(t){f||(H(c.$$.fragment,t),H(i.$$.fragment,t),H(A),f=!0)},o(t){J(c.$$.fragment,t),J(i.$$.fragment,t),J(A),f=!1},d(t){t&&m(e),t&&m(n),Z(c),Z(i),t&&m(a),k&&k.d(t),t&&m(u),A&&A.d(t),t&&m(d),h=!1,s(b)}}}function Ht(t){let e,n;return{c(){e=v("Connecting...\r\n                "),n=g("div"),n.innerHTML='<div class="svelte-1156jxt"></div> \n                    <div class="svelte-1156jxt"></div> \n                    <div class="svelte-1156jxt"></div> \n                    <div class="svelte-1156jxt"></div>',b(n,"class","lds-ellipsis svelte-1156jxt")},m(t,o){$(t,e,o),$(t,n,o)},d(t){t&&m(e),t&&m(n)}}}function Jt(t){let e,n,o,r,c,l,i,a,u,d;const f=[qt,Yt],p=[];function h(t,e){return t[3]?0:1}return c=h(t),l=p[c]=f[c](t),{c(){e=g("p"),e.textContent="Game name",n=w(),o=g("input"),r=w(),l.c(),i=x()},m(s,l){$(s,e,l),$(s,n,l),$(s,o,l),R(o,t[6]),$(s,r,l),p[c].m(s,l),$(s,i,l),a=!0,u||(d=[y(o,"input",t[20]),y(o,"keypress",t[21])],u=!0)},p(t,e){64&e&&o.value!==t[6]&&R(o,t[6]);let n=c;c=h(t),c===n?p[c].p(t,e):(F(),J(p[n],1,1,(()=>{p[n]=null})),z(),l=p[c],l?l.p(t,e):(l=p[c]=f[c](t),l.c()),H(l,1),l.m(i.parentNode,i))},i(t){a||(H(l),a=!0)},o(t){J(l),a=!1},d(t){t&&m(e),t&&m(n),t&&m(o),t&&m(r),p[c].d(t),t&&m(i),u=!1,s(d)}}}function Yt(e){let n,o,s,r,c;return o=new nt({props:{text:"Host"}}),o.$on("click",e[13]),r=new nt({props:{text:"Join"}}),r.$on("click",e[13]),{c(){n=g("div"),q(o.$$.fragment),s=w(),q(r.$$.fragment),A(n,"display","flex")},m(t,e){$(t,n,e),W(o,n,null),p(n,s),W(r,n,null),c=!0},p:t,i(t){c||(H(o.$$.fragment,t),H(r.$$.fragment,t),c=!0)},o(t){J(o.$$.fragment,t),J(r.$$.fragment,t),c=!1},d(t){t&&m(n),Z(o),Z(r)}}}function qt(e){let n,o;return{c(){n=v("Joining...\r\n                    "),o=g("div"),o.innerHTML='<div class="svelte-1156jxt"></div> \n                        <div class="svelte-1156jxt"></div> \n                        <div class="svelte-1156jxt"></div> \n                        <div class="svelte-1156jxt"></div>',b(o,"class","lds-ellipsis svelte-1156jxt")},m(t,e){$(t,n,e),$(t,o,e)},p:t,i:t,o:t,d(t){t&&m(n),t&&m(o)}}}function Wt(e){let n;return{c(){n=v("loading assets...")},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}function Zt(t){let e,n,o,s,r,c,l,i,a,u,d,f,h,v;n=new nt({props:{text:"Credits"}}),n.$on("click",t[14]),r=new Pt({props:{src:"ui/UI_Bird.png",alt:"Twitter @spellmasons",width:"24px",href:"https://twitter.com/spellmasons",class:"button-wrapper-bg-2"}}),l=new Lt({props:{class:"button-wrapper-bg-2",$$slots:{default:[Bt]},$$scope:{ctx:t}}}),l.$on("click",t[15]);const y=[Ut,Dt],k=[];function R(t,e){return t[1]?0:1}return d=R(t),f=k[d]=y[d](t),{c(){e=g("div"),q(n.$$.fragment),o=w(),s=g("div"),q(r.$$.fragment),c=w(),q(l.$$.fragment),i=w(),a=g("div"),u=w(),f.c(),h=x(),b(s,"class","flex gap svelte-1156jxt"),b(a,"id","menu-version"),b(e,"id","corner"),b(e,"class","flex gap svelte-1156jxt"),A(e,"flex-direction","column")},m(t,f){$(t,e,f),W(n,e,null),p(e,o),p(e,s),W(r,s,null),p(s,c),W(l,s,null),p(e,i),p(e,a),$(t,u,f),k[d].m(t,f),$(t,h,f),v=!0},p(t,[e]){const n={};16777216&e&&(n.$$scope={dirty:e,ctx:t}),l.$set(n);let o=d;d=R(t),d===o?k[d].p(t,e):(F(),J(k[o],1,1,(()=>{k[o]=null})),z(),f=k[d],f?f.p(t,e):(f=k[d]=y[d](t),f.c()),H(f,1),f.m(h.parentNode,h))},i(t){v||(H(n.$$.fragment,t),H(r.$$.fragment,t),H(l.$$.fragment,t),H(f),v=!0)},o(t){J(n.$$.fragment,t),J(r.$$.fragment,t),J(l.$$.fragment,t),J(f),v=!1},d(t){t&&m(e),Z(n),Z(r),Z(l),t&&m(u),k[d].d(t),t&&m(h)}}}function Kt(){window.closeMenu()}function Qt(t,e,n){let o,{setRoute:s}=e,{inGame:r}=e,c=!1,l=!1;function i(){window.playMusic(),o&&m(),n(4,o=!1)}let a,u=new URLSearchParams(location.search),d=u.get("pieUrl"),f=u.get("game");function p(){n(7,a=window.isConnected()),n(2,c=!1)}function $(){if(d){console.log("Menu: Connect to server",d),n(2,c=!0);const t=new URL(location.href);return t.searchParams.set("pieUrl",d),window.history.pushState(null,null,t),window.connect_to_wsPie_server(d).catch(console.error).then(p)}return Promise.reject("No wsUrl defined to connect to")}function m(){window.pieDisconnect().then(p)}function g(){f?window.isConnected()?(console.log("Menu: Connect to game name",f),n(3,l=!0),window.joinRoom({name:f}).then((()=>{const t=new URL(location.href);t.searchParams.set("game",f),window.history.pushState(null,null,t)})).catch((t=>{console.error("Could not join room",t)})).then((()=>{n(3,l=!1)}))):console.error("Cannot join room until pieClient is connected to a pieServer"):console.log("Cannot join game until a gameName is provided")}window.tryAutoConnect=()=>{d&&(console.log("Menu: Start auto connect"),i(),$())};return t.$$set=t=>{"setRoute"in t&&n(0,s=t.setRoute),"inGame"in t&&n(1,r=t.inGame)},[s,r,c,l,o,d,f,a,function(){window.playMusic(),n(4,o=!0),window.startSingleplayer().then((()=>{p()}))},i,$,m,function(){if(confirm("Are you sure you want to quit to Main Menu?")){const t=new URL(location.href);t.searchParams.delete("game"),t.searchParams.delete("pieUrl"),window.history.pushState(null,null,t),window.exitCurrentGame().then(p)}},g,()=>s(It),()=>{s(Ot)},()=>s(Gt),()=>s(Gt),function(){d=this.value,n(5,d)},t=>{"Enter"==t.key&&$()},function(){f=this.value,n(6,f)},t=>{"Enter"==t.key&&g()}]}class Xt extends X{constructor(t){super(),Q(this,t,Qt,Zt,c,{setRoute:0,inGame:1})}}function te(e){let n,o,s,r;return s=new nt({props:{type:"button",text:"ðŸ ” Back",class:"sm"}}),s.$on("click",e[3]),{c(){n=g("h1"),n.textContent="This page is still being built",o=w(),q(s.$$.fragment),b(n,"class","svelte-1n2jha3")},m(t,e){$(t,n,e),$(t,o,e),W(s,t,e),r=!0},p:t,i(t){r||(H(s.$$.fragment,t),r=!0)},o(t){J(s.$$.fragment,t),r=!1},d(t){t&&m(n),t&&m(o),Z(s,t)}}}function ee(t,e,n){let{setRoute:o}=e,{lastRoute:s}=e;function r(){o(s)}return t.$$set=t=>{"setRoute"in t&&n(1,o=t.setRoute),"lastRoute"in t&&n(2,s=t.lastRoute)},[r,o,s,()=>r()]}class ne extends X{constructor(t){super(),Q(this,t,ee,te,c,{setRoute:1,lastRoute:2})}}function oe(t){let e,n;return e=new ne({props:{setRoute:t[3],lastRoute:t[0],route:!0}}),{c(){q(e.$$.fragment)},m(t,o){W(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.lastRoute=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function se(t){let e,n;return e=new lt({props:{setRoute:t[3],lastRoute:t[0],route:!0}}),{c(){q(e.$$.fragment)},m(t,o){W(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.lastRoute=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function re(t){let e,n;return e=new Ct({props:{setRoute:t[3],lastRoute:t[0],route:!0}}),{c(){q(e.$$.fragment)},m(t,o){W(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.lastRoute=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function ce(t){let e,n,o,s,r,c,l;return c=new Xt({props:{setRoute:t[3],lastRoute:t[0],inGame:t[2]}}),{c(){e=g("div"),n=g("div"),o=g("img"),r=w(),q(c.$$.fragment),b(o,"id","logo"),a(o.src,s="ui/logo.png")||b(o,"src","ui/logo.png"),b(o,"alt","Spellmasons logo"),b(o,"width","800"),b(n,"id","menu-inner"),b(e,"id","menu")},m(t,s){$(t,e,s),p(e,n),p(n,o),p(n,r),W(c,n,null),l=!0},p(t,e){const n={};1&e&&(n.lastRoute=t[0]),4&e&&(n.inGame=t[2]),c.$set(n)},i(t){l||(H(c.$$.fragment,t),l=!0)},o(t){J(c.$$.fragment,t),l=!1},d(t){t&&m(e),Z(c)}}}function le(t){let e,n,o,s,r;const c=[ce,re,se,oe],l=[];function i(t,e){return t[1]==Tt?0:t[1]==Gt?1:t[1]==It?2:t[1]==Ot?3:-1}return~(o=i(t))&&(s=l[o]=c[o](t)),{c(){e=g("div"),n=g("div"),s&&s.c(),b(n,"class","decorative-border"),b(e,"class","full-fill")},m(t,s){$(t,e,s),p(e,n),~o&&l[o].m(n,null),r=!0},p(t,[e]){let r=o;o=i(t),o===r?~o&&l[o].p(t,e):(s&&(F(),J(l[r],1,1,(()=>{l[r]=null})),z()),~o?(s=l[o],s?s.p(t,e):(s=l[o]=c[o](t),s.c()),H(s,1),s.m(n,null)):s=null)},i(t){r||(H(s),r=!0)},o(t){J(s),r=!1},d(t){t&&m(e),~o&&l[o].d()}}}function ie(t,e,n){let o,s;console.log("Menu: Svelte menu is running");let r=!1;function c(t){console.log("Menu: Route:",t),n(0,o=s),n(1,s=t),window.updateInGameMenuStatus()}return window.updateInGameMenuStatus=()=>{n(2,r=void 0!==window.player)},c(Tt),window.setMenu=c,[o,s,r,c]}return new class extends X{constructor(t){super(),Q(this,t,ie,le,c,{})}}({target:document.getElementById("menu-app")||document.body,props:{}})}();
//# sourceMappingURL=svelte-bundle.js.map
