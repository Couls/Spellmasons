var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let u,l;function s(t,n){const e={};n=new Set(n);for(const o in t)n.has(o)||"$"===o[0]||(e[o]=t[o]);return e}function a(t,n){t.appendChild(n)}function f(t,n,e){t.insertBefore(n,e||null)}function p(t){t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function $(){return d(" ")}function g(){return d("")}function w(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function h(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function v(t,n){const e=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in n)null==n[o]?t.removeAttribute(o):"style"===o?t.style.cssText=n[o]:"__value"===o?t.value=t[o]=n[o]:e[o]&&e[o].set?t[o]=n[o]:h(t,o,n[o])}function y(t,n){t.value=null==n?"":n}function k(t,n,e,o){null===e?t.style.removeProperty(n):t.style.setProperty(n,e,o?"important":"")}function b(t){l=t}function x(){if(!l)throw new Error("Function called outside component initialization");return l}function R(t,n){const e=t.$$.callbacks[n.type];e&&e.slice().forEach((t=>t.call(this,n)))}const O=[],P=[],j=[],S=[],_=Promise.resolve();let C=!1;function N(t){j.push(t)}const I=new Set;let M=0;function T(){const t=l;do{for(;M<O.length;){const t=O[M];M++,b(t),E(t.$$)}for(b(null),O.length=0,M=0;P.length;)P.pop()();for(let t=0;t<j.length;t+=1){const n=j[t];I.has(n)||(I.add(n),n())}j.length=0}while(O.length);for(;S.length;)S.pop()();C=!1,I.clear(),b(t)}function E(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(N)}}const G=new Set;let A;function L(){A={r:0,c:[],p:A}}function U(){A.r||r(A.c),A=A.p}function F(t,n){t&&t.i&&(G.delete(t),t.i(n))}function Y(t,n,e,o){if(t&&t.o){if(G.has(t))return;G.add(t),A.c.push((()=>{G.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}else o&&o()}function V(t,n){const e=n.token={};function o(t,o,r,i){if(n.token!==e)return;n.resolved=i;let c=n.ctx;void 0!==r&&(c=c.slice(),c[r]=i);const u=t&&(n.current=t)(c);let l=!1;n.block&&(n.blocks?n.blocks.forEach(((t,e)=>{e!==o&&t&&(L(),Y(t,1,1,(()=>{n.blocks[e]===t&&(n.blocks[e]=null)})),U())})):n.block.d(1),u.c(),F(u,1),u.m(n.mount(),n.anchor),l=!0),n.block=u,n.blocks&&(n.blocks[o]=u),l&&T()}if((r=t)&&"object"==typeof r&&"function"==typeof r.then){const e=x();if(t.then((t=>{b(e),o(n.then,1,n.value,t),b(null)}),(t=>{if(b(e),o(n.catch,2,n.error,t),b(null),!n.hasCatch)throw t})),n.current!==n.pending)return o(n.pending,0),!0}else{if(n.current!==n.then)return o(n.then,1,n.value,t),!0;n.resolved=t}var r}function B(t){t&&t.c()}function D(t,n,o,c){const{fragment:u,on_mount:l,on_destroy:s,after_update:a}=t.$$;u&&u.m(n,o),c||N((()=>{const n=l.map(e).filter(i);s?s.push(...n):r(n),t.$$.on_mount=[]})),a.forEach(N)}function H(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function q(t,n){-1===t.$$.dirty[0]&&(O.push(t),C||(C=!0,_.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function z(n,e,i,c,u,s,a,f=[-1]){const m=l;b(n);const d=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:u,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:o(),dirty:f,skip_bound:!1,root:e.target||m.$$.root};a&&a(d.root);let $=!1;if(d.ctx=i?i(n,e.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return d.ctx&&u(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),$&&q(n,t)),e})):[],d.update(),$=!0,r(d.before_update),d.fragment=!!c&&c(d.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);d.fragment&&d.fragment.l(t),t.forEach(p)}else d.fragment&&d.fragment.c();e.intro&&F(n.$$.fragment),D(n,e.target,e.anchor,e.customElement),T()}b(m)}class J{$destroy(){H(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Q(e){let o,r,i,c,u,l=[{class:"button-wrapper"},e[1]],s={};for(let t=0;t<l.length;t+=1)s=n(s,l[t]);return{c(){o=m("button"),r=m("div"),i=d(e[0]),v(o,s)},m(t,n){f(t,o,n),a(o,r),a(r,i),o.autofocus&&o.focus(),c||(u=w(o,"click",e[2]),c=!0)},p(t,[n]){1&n&&function(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}(i,t[0]),v(o,s=function(t,n){const e={},o={},r={$$scope:1};let i=t.length;for(;i--;){const c=t[i],u=n[i];if(u){for(const t in c)t in u||(o[t]=1);for(const t in u)r[t]||(e[t]=u[t],r[t]=1);t[i]=u}else for(const t in c)r[t]=1}for(const t in o)t in e||(e[t]=void 0);return e}(l,[{class:"button-wrapper"},2&n&&t[1]]))},i:t,o:t,d(t){t&&p(o),c=!1,u()}}}function K(t,e,o){const r=["text"];let i=s(e,r),{text:c}=e;return t.$$set=t=>{e=n(n({},e),function(t){const n={};for(const e in t)"$"!==e[0]&&(n[e]=t[e]);return n}(t)),o(1,i=s(e,r)),"text"in t&&o(0,c=t.text)},[c,i,function(n){R.call(this,t,n)}]}class W extends J{constructor(t){super(),z(this,t,K,Q,c,{text:0})}}function X(n){let e,o,i,c,u,l,s,g,v,y,k,b,x,R,O;return e=new W({props:{type:"button",text:"ðŸ ” Back"}}),e.$on("click",n[2]),b=new W({props:{text:"Toggle FPS/Latency Monitor"}}),b.$on("click",n[3]),{c(){B(e.$$.fragment),o=$(),i=m("div"),c=d("Total Volume:\r\n    "),u=m("input"),l=d("\r\n    Music Volume:\r\n    "),s=m("input"),g=d("\r\n    Sound Effects Volume:\r\n    "),v=m("input"),y=$(),k=m("div"),B(b.$$.fragment),h(u,"type","range"),u.value=100*window.volume,h(u,"min","0"),h(u,"max","100"),h(s,"type","range"),s.value=100*window.volumeMusic,h(s,"min","0"),h(s,"max","100"),h(v,"type","range"),v.value=100*window.volumeGame,h(v,"min","0"),h(v,"max","100")},m(t,n){D(e,t,n),f(t,o,n),f(t,i,n),a(i,c),a(i,u),a(i,l),a(i,s),a(i,g),a(i,v),f(t,y,n),f(t,k,n),D(b,k,null),x=!0,R||(O=[w(u,"input",Z),w(s,"input",tt),w(v,"input",nt)],R=!0)},p:t,i(t){x||(F(e.$$.fragment,t),F(b.$$.fragment,t),x=!0)},o(t){Y(e.$$.fragment,t),Y(b.$$.fragment,t),x=!1},d(t){H(e,t),t&&p(o),t&&p(i),t&&p(y),t&&p(k),H(b),R=!1,r(O)}}}function Z(t){window.changeVolume(t.target.value/100)}function tt(t){window.changeVolumeMusic(t.target.value/100)}function nt(t){window.changeVolumeGame(t.target.value/100)}function et(t,n,e){let{setRoute:o}=n,{lastRoute:r}=n;return t.$$set=t=>{"setRoute"in t&&e(0,o=t.setRoute),"lastRoute"in t&&e(1,r=t.lastRoute)},[o,r,()=>o(r),()=>{window.monitorFPS()}]}class ot extends J{constructor(t){super(),z(this,t,et,X,c,{setRoute:0,lastRoute:1})}}function rt(t){let n,e,o,r,i={ctx:t,current:null,token:null,hasCatch:!0,pending:mt,then:ut,catch:ct,blocks:[,,,]};return V(window.setupPixiPromise,i),{c(){n=m("div"),e=$(),o=g(),i.block.c(),h(n,"id","websocket-pie-connection-status")},m(t,c){f(t,n,c),f(t,e,c),f(t,o,c),i.block.m(t,i.anchor=c),i.mount=()=>o.parentNode,i.anchor=o,r=!0},p(n,e){!function(t,n,e){const o=n.slice(),{resolved:r}=t;t.current===t.then&&(o[t.value]=r),t.current===t.catch&&(o[t.error]=r),t.block.p(o,e)}(i,t=n,e)},i(t){r||(F(i.block),r=!0)},o(t){for(let t=0;t<3;t+=1){Y(i.blocks[t])}r=!1},d(t){t&&p(n),t&&p(e),t&&p(o),i.block.d(t),i.token=null,i=null}}}function it(n){let e,o,r,i,c,u,l,s,d;return o=new W({props:{text:"Resume Game"}}),o.$on("click",$t),i=new W({props:{text:"Options"}}),i.$on("click",n[16]),u=new W({props:{text:"Customize Appearance"}}),u.$on("click",n[17]),s=new W({props:{text:"Quit to Main Menu"}}),s.$on("click",n[14]),{c(){e=m("div"),B(o.$$.fragment),r=$(),B(i.$$.fragment),c=$(),B(u.$$.fragment),l=$(),B(s.$$.fragment),h(e,"class","list svelte-jyvijk")},m(t,n){f(t,e,n),D(o,e,null),a(e,r),D(i,e,null),a(e,c),D(u,e,null),a(e,l),D(s,e,null),d=!0},p:t,i(t){d||(F(o.$$.fragment,t),F(i.$$.fragment,t),F(u.$$.fragment,t),F(s.$$.fragment,t),d=!0)},o(t){Y(o.$$.fragment,t),Y(i.$$.fragment,t),Y(u.$$.fragment,t),Y(s.$$.fragment,t),d=!1},d(t){t&&p(e),H(o),H(i),H(u),H(s)}}}function ct(n){let e;return{c(){e=m("p"),e.textContent="Something went wrong loading assets",k(e,"color","red")},m(t,n){f(t,e,n)},p:t,i:t,o:t,d(t){t&&p(e)}}}function ut(t){let n,e,o,r,i,c,u,l,s,d,w;e=new W({props:{text:"New Run"}}),e.$on("click",t[10]),r=new W({props:{text:"Multiplayer"}}),r.$on("click",t[11]),c=new W({props:{text:"Options"}}),c.$on("click",t[18]);let v=!1===t[6]&&lt(t);return{c(){n=m("div"),B(e.$$.fragment),o=$(),B(r.$$.fragment),i=$(),B(c.$$.fragment),u=$(),l=m("br"),s=$(),v&&v.c(),d=g(),h(n,"class","list svelte-jyvijk")},m(t,p){f(t,n,p),D(e,n,null),a(n,o),D(r,n,null),a(n,i),D(c,n,null),f(t,u,p),f(t,l,p),f(t,s,p),v&&v.m(t,p),f(t,d,p),w=!0},p(t,n){!1===t[6]?v?(v.p(t,n),64&n&&F(v,1)):(v=lt(t),v.c(),F(v,1),v.m(d.parentNode,d)):v&&(L(),Y(v,1,1,(()=>{v=null})),U())},i(t){w||(F(e.$$.fragment,t),F(r.$$.fragment,t),F(c.$$.fragment,t),F(v),w=!0)},o(t){Y(e.$$.fragment,t),Y(r.$$.fragment,t),Y(c.$$.fragment,t),Y(v),w=!1},d(t){t&&p(n),H(e),H(r),H(c),t&&p(u),t&&p(l),t&&p(s),v&&v.d(t),t&&p(d)}}}function lt(t){let n,e,o,i,c,u,l,s,h,v,k,b,x;c=new W({props:{disabled:t[9],text:"Connect"}}),c.$on("click",t[12]),l=new W({props:{disabled:!t[9],text:"Disconnect"}}),l.$on("click",t[13]);let R=t[4]&&st(),O=t[9]&&at(t);return{c(){n=d("Server Url\r\n            "),e=m("div"),o=m("input"),i=$(),B(c.$$.fragment),u=$(),B(l.$$.fragment),s=$(),R&&R.c(),h=$(),O&&O.c(),v=g()},m(r,p){f(r,n,p),f(r,e,p),a(e,o),y(o,t[7]),a(e,i),D(c,e,null),a(e,u),D(l,e,null),f(r,s,p),R&&R.m(r,p),f(r,h,p),O&&O.m(r,p),f(r,v,p),k=!0,b||(x=[w(o,"input",t[19]),w(o,"keypress",t[20])],b=!0)},p(t,n){128&n&&o.value!==t[7]&&y(o,t[7]);const e={};512&n&&(e.disabled=t[9]),c.$set(e);const r={};512&n&&(r.disabled=!t[9]),l.$set(r),t[4]?R||(R=st(),R.c(),R.m(h.parentNode,h)):R&&(R.d(1),R=null),t[9]?O?(O.p(t,n),512&n&&F(O,1)):(O=at(t),O.c(),F(O,1),O.m(v.parentNode,v)):O&&(L(),Y(O,1,1,(()=>{O=null})),U())},i(t){k||(F(c.$$.fragment,t),F(l.$$.fragment,t),F(O),k=!0)},o(t){Y(c.$$.fragment,t),Y(l.$$.fragment,t),Y(O),k=!1},d(t){t&&p(n),t&&p(e),H(c),H(l),t&&p(s),R&&R.d(t),t&&p(h),O&&O.d(t),t&&p(v),b=!1,r(x)}}}function st(t){let n,e;return{c(){n=d("Connecting...\r\n                "),e=m("div"),e.innerHTML='<div class="svelte-jyvijk"></div> \n                    <div class="svelte-jyvijk"></div> \n                    <div class="svelte-jyvijk"></div> \n                    <div class="svelte-jyvijk"></div>',h(e,"class","lds-ellipsis svelte-jyvijk")},m(t,o){f(t,n,o),f(t,e,o)},d(t){t&&p(n),t&&p(e)}}}function at(t){let n,e,o,i,c,u,l,s,a,d;const h=[pt,ft],v=[];function k(t,n){return t[5]?0:1}return c=k(t),u=v[c]=h[c](t),{c(){n=m("p"),n.textContent="Game name",e=$(),o=m("input"),i=$(),u.c(),l=g()},m(r,u){f(r,n,u),f(r,e,u),f(r,o,u),y(o,t[8]),f(r,i,u),v[c].m(r,u),f(r,l,u),s=!0,a||(d=[w(o,"input",t[21]),w(o,"keypress",t[22])],a=!0)},p(t,n){256&n&&o.value!==t[8]&&y(o,t[8]);let e=c;c=k(t),c===e?v[c].p(t,n):(L(),Y(v[e],1,1,(()=>{v[e]=null})),U(),u=v[c],u?u.p(t,n):(u=v[c]=h[c](t),u.c()),F(u,1),u.m(l.parentNode,l))},i(t){s||(F(u),s=!0)},o(t){Y(u),s=!1},d(t){t&&p(n),t&&p(e),t&&p(o),t&&p(i),v[c].d(t),t&&p(l),a=!1,r(d)}}}function ft(n){let e,o,r,i,c;return o=new W({props:{text:"Host"}}),o.$on("click",n[15]),i=new W({props:{text:"Join"}}),i.$on("click",n[15]),{c(){e=m("div"),B(o.$$.fragment),r=$(),B(i.$$.fragment),k(e,"display","flex")},m(t,n){f(t,e,n),D(o,e,null),a(e,r),D(i,e,null),c=!0},p:t,i(t){c||(F(o.$$.fragment,t),F(i.$$.fragment,t),c=!0)},o(t){Y(o.$$.fragment,t),Y(i.$$.fragment,t),c=!1},d(t){t&&p(e),H(o),H(i)}}}function pt(n){let e,o;return{c(){e=d("Joining...\r\n                    "),o=m("div"),o.innerHTML='<div class="svelte-jyvijk"></div> \n                        <div class="svelte-jyvijk"></div> \n                        <div class="svelte-jyvijk"></div> \n                        <div class="svelte-jyvijk"></div>',h(o,"class","lds-ellipsis svelte-jyvijk")},m(t,n){f(t,e,n),f(t,o,n)},p:t,i:t,o:t,d(t){t&&p(e),t&&p(o)}}}function mt(n){let e;return{c(){e=d("loading assets...")},m(t,n){f(t,e,n)},p:t,i:t,o:t,d(t){t&&p(e)}}}function dt(t){let n,e,o,r;const i=[it,rt],c=[];function u(t,n){return t[3]?0:1}return n=u(t),e=c[n]=i[n](t),{c(){e.c(),o=g()},m(t,e){c[n].m(t,e),f(t,o,e),r=!0},p(t,[r]){let l=n;n=u(t),n===l?c[n].p(t,r):(L(),Y(c[l],1,1,(()=>{c[l]=null})),U(),e=c[n],e?e.p(t,r):(e=c[n]=i[n](t),e.c()),F(e,1),e.m(o.parentNode,o))},i(t){r||(F(e),r=!0)},o(t){Y(e),r=!1},d(t){c[n].d(t),t&&p(o)}}}function $t(){window.closeMenu()}function gt(t,n,e){let o,{setRoute:r}=n,{OPTIONS:i}=n,{PLAYER_CONFIG:c}=n,{inGame:u}=n,l=!1,s=!1;function a(){window.playMusic(),o&&w(),e(6,o=!1)}let f,p=new URLSearchParams(location.search),m=p.get("pieUrl"),d=p.get("game");function $(){e(9,f=window.isConnected()),e(4,l=!1)}function g(){if(m){console.log("Menu: Connect to server",m),e(4,l=!0);const t=new URL(location.href);return t.searchParams.set("pieUrl",m),window.history.pushState(null,null,t),window.connect_to_wsPie_server(m).catch(console.error).then($)}return Promise.reject("No wsUrl defined to connect to")}function w(){window.pieDisconnect().then($)}function h(){d?window.isConnected()?(console.log("Menu: Connect to game name",d),e(5,s=!0),window.joinRoom({name:d}).then((()=>{const t=new URL(location.href);t.searchParams.set("game",d),window.history.pushState(null,null,t)})).catch((t=>{console.error("Could not join room",t)})).then((()=>{e(5,s=!1)}))):console.error("Cannot join room until pieClient is connected to a pieServer"):console.log("Cannot join game until a gameName is provided")}window.tryAutoConnect=()=>{m&&(console.log("Menu: Start auto connect"),a(),g())};return t.$$set=t=>{"setRoute"in t&&e(0,r=t.setRoute),"OPTIONS"in t&&e(1,i=t.OPTIONS),"PLAYER_CONFIG"in t&&e(2,c=t.PLAYER_CONFIG),"inGame"in t&&e(3,u=t.inGame)},[r,i,c,u,l,s,o,m,d,f,function(){window.playMusic(),e(6,o=!0),window.startSingleplayer().then((()=>{$()}))},a,g,w,function(){if(confirm("Are you sure you want to quit to Main Menu?")){const t=new URL(location.href);t.searchParams.delete("game"),t.searchParams.delete("pieUrl"),window.history.pushState(null,null,t),window.exitCurrentGame().then($)}},h,()=>r(i),()=>r(c),()=>r(i),function(){m=this.value,e(7,m)},t=>{"Enter"==t.key&&g()},function(){d=this.value,e(8,d)},t=>{"Enter"==t.key&&h()}]}class wt extends J{constructor(t){super(),z(this,t,gt,dt,c,{setRoute:0,OPTIONS:1,PLAYER_CONFIG:2,inGame:3})}}function ht(t){let n,e,o,i,c,u,l,s,d,g,v,k,b;return n=new W({props:{type:"button",text:"ðŸ ” Back"}}),n.$on("click",t[5]),{c(){B(n.$$.fragment),e=$(),o=m("div"),i=m("label"),i.textContent="Robe Color",c=$(),u=m("input"),l=$(),s=m("label"),s.textContent="Player Name",d=$(),g=m("input"),h(i,"for","robe"),h(u,"type","color"),h(u,"name","robe"),h(s,"for","player-name"),h(g,"type","text"),h(g,"name","player-name")},m(r,p){D(n,r,p),f(r,e,p),f(r,o,p),a(o,i),a(o,c),a(o,u),y(u,t[3]),a(o,l),a(o,s),a(o,d),a(o,g),y(g,t[2]),v=!0,k||(b=[w(u,"input",t[6]),w(u,"blur",t[7]),w(g,"input",t[8]),w(g,"input",t[9])],k=!0)},p(t,[n]){8&n&&y(u,t[3]),4&n&&g.value!==t[2]&&y(g,t[2])},i(t){v||(F(n.$$.fragment,t),v=!0)},o(t){Y(n.$$.fragment,t),v=!1},d(t){H(n,t),t&&p(e),t&&p(o),k=!1,r(b)}}}function vt(t,n,e){let{setRoute:o}=n,{lastRoute:r}=n,i=localStorage.getItem("player-name"),c=`#${parseInt(localStorage.getItem("player-color")).toString(16)}`;const u=t=>parseInt(t.slice(1),16);return t.$$set=t=>{"setRoute"in t&&e(0,o=t.setRoute),"lastRoute"in t&&e(1,r=t.lastRoute)},[o,r,i,c,u,()=>o(r),function(){c=this.value,e(3,c)},()=>{window.configPlayer({color:u(c),name:i})},function(){i=this.value,e(2,i)},()=>{window.configPlayer({color:u(c),name:i})}]}class yt extends J{constructor(t){super(),z(this,t,vt,ht,c,{setRoute:0,lastRoute:1})}}function kt(n){let e,o,i,c,u,l,s,d;return{c(){e=m("div"),o=m("button"),o.textContent="Resume Tutorial",i=$(),c=m("button"),c.textContent="Options",u=$(),l=m("button"),l.textContent="Skip Tutorial",h(e,"class","list")},m(t,r){f(t,e,r),a(e,o),a(e,i),a(e,c),a(e,u),a(e,l),s||(d=[w(o,"click",xt),w(c,"click",n[2]),w(l,"click",bt)],s=!0)},p:t,i:t,o:t,d(t){t&&p(e),s=!1,r(d)}}}function bt(){confirm("Are you sure you want to skip the tutorial?")&&(window.skipTutorial(),window.exitCurrentGame())}function xt(){window.closeMenu()}function Rt(t,n,e){let{OPTIONS:o}=n,{setRoute:r}=n;return t.$$set=t=>{"OPTIONS"in t&&e(0,o=t.OPTIONS),"setRoute"in t&&e(1,r=t.setRoute)},[o,r,()=>r(o)]}class Ot extends J{constructor(t){super(),z(this,t,Rt,kt,c,{OPTIONS:0,setRoute:1})}}function Pt(n){let e,o;return e=new Ot({props:{setRoute:n[3],OPTIONS:Nt}}),{c(){B(e.$$.fragment)},m(t,n){D(e,t,n),o=!0},p:t,i(t){o||(F(e.$$.fragment,t),o=!0)},o(t){Y(e.$$.fragment,t),o=!1},d(t){H(e,t)}}}function jt(t){let n,e;return n=new ot({props:{setRoute:t[3],lastRoute:t[0]}}),{c(){B(n.$$.fragment)},m(t,o){D(n,t,o),e=!0},p(t,e){const o={};1&e&&(o.lastRoute=t[0]),n.$set(o)},i(t){e||(F(n.$$.fragment,t),e=!0)},o(t){Y(n.$$.fragment,t),e=!1},d(t){H(n,t)}}}function St(t){let n,e;return n=new yt({props:{setRoute:t[3],lastRoute:t[0]}}),{c(){B(n.$$.fragment)},m(t,o){D(n,t,o),e=!0},p(t,e){const o={};1&e&&(o.lastRoute=t[0]),n.$set(o)},i(t){e||(F(n.$$.fragment,t),e=!0)},o(t){Y(n.$$.fragment,t),e=!1},d(t){H(n,t)}}}function _t(t){let n,e;return n=new wt({props:{setRoute:t[3],PLAYER_CONFIG:It,OPTIONS:Nt,inGame:t[2]}}),{c(){B(n.$$.fragment)},m(t,o){D(n,t,o),e=!0},p(t,e){const o={};4&e&&(o.inGame=t[2]),n.$set(o)},i(t){e||(F(n.$$.fragment,t),e=!0)},o(t){Y(n.$$.fragment,t),e=!1},d(t){H(n,t)}}}function Ct(t){let n,e,o,r,i,c,l;const s=[_t,St,jt,Pt],a=[];function d(t,n){return t[1]==Mt?0:t[1]==It?1:t[1]==Nt?2:t[1]==Tt?3:-1}return~(r=d(t))&&(i=a[r]=s[r](t)),{c(){var t,r;n=m("img"),o=$(),i&&i.c(),c=g(),t=n.src,r=e="ui/logo.png",u||(u=document.createElement("a")),u.href=r,t!==u.href&&h(n,"src","ui/logo.png"),h(n,"alt","Spellmasons logo"),h(n,"width","800")},m(t,e){f(t,n,e),f(t,o,e),~r&&a[r].m(t,e),f(t,c,e),l=!0},p(t,[n]){let e=r;r=d(t),r===e?~r&&a[r].p(t,n):(i&&(L(),Y(a[e],1,1,(()=>{a[e]=null})),U()),~r?(i=a[r],i?i.p(t,n):(i=a[r]=s[r](t),i.c()),F(i,1),i.m(c.parentNode,c)):i=null)},i(t){l||(F(i),l=!0)},o(t){Y(i),l=!1},d(t){t&&p(n),t&&p(o),~r&&a[r].d(t),t&&p(c)}}}const Nt="OPTIONS",It="PLAYER_CONFIG",Mt="PLAY",Tt="TUTORIAL";function Et(t,n,e){let o,r;console.log("Menu: Svelte menu is running");let i=!1;function c(t){console.log("Menu: Route:",t),e(0,o=r),e(1,r=t),window.updateInGameMenuStatus()}return window.updateInGameMenuStatus=()=>{e(2,i=void 0!==window.player)},c(Mt),window.setMenu=c,[o,r,i,c]}return new class extends J{constructor(t){super(),z(this,t,Et,Ct,c,{})}}({target:document.getElementById("menu-inner")||document.body,props:{}})}();
//# sourceMappingURL=svelte-bundle.js.map
