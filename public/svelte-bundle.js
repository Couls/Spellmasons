var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function l(t){t.forEach(n)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,i;function a(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function u(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function f(t,n,o,l){return t[1]&&l?e(o.ctx.slice(),t[1](l(n))):o.ctx}function d(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function $(t,e){const n={};e=new Set(e);for(const o in t)e.has(o)||"$"===o[0]||(n[o]=t[o]);return n}function g(t,e,n){return t.set(n),e}function p(t,e){t.appendChild(e)}function m(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function x(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function y(){return b(" ")}function k(){return b("")}function C(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function L(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)null==e[o]?t.removeAttribute(o):"style"===o?t.style.cssText=e[o]:"__value"===o?t.value=t[o]=e[o]:n[o]&&n[o].set?t[o]=e[o]:L(t,o,e[o])}function A(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function M(t,e){t.value=null==e?"":e}function _(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function S(t,e,n){t.classList[n?"add":"remove"](e)}function E(t){i=t}function P(){if(!i)throw new Error("Function called outside component initialization");return i}function B(t){P().$$.on_mount.push(t)}function R(t){P().$$.on_destroy.push(t)}function I(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const H=[],q=[],O=[],U=[],D=Promise.resolve();let G=!1;function N(t){O.push(t)}const j=new Set;let z=0;function V(){const t=i;do{for(;z<H.length;){const t=H[z];z++,E(t),F(t.$$)}for(E(null),H.length=0,z=0;q.length;)q.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];j.has(e)||(j.add(e),e())}O.length=0}while(H.length);for(;U.length;)U.pop()();G=!1,j.clear(),E(t)}function F(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const J=new Set;let Y;function K(){Y={r:0,c:[],p:Y}}function Z(){Y.r||l(Y.c),Y=Y.p}function W(t,e){t&&t.i&&(J.delete(t),t.i(e))}function Q(t,e,n,o){if(t&&t.o){if(J.has(t))return;J.add(t),Y.c.push((()=>{J.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function X(t,e){const n={},o={},l={$$scope:1};let r=t.length;for(;r--;){const c=t[r],s=e[r];if(s){for(const t in c)t in s||(o[t]=1);for(const t in s)l[t]||(n[t]=s[t],l[t]=1);t[r]=s}else for(const t in c)l[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function tt(t){t&&t.c()}function et(t,e,o,c){const{fragment:s,on_mount:i,on_destroy:a,after_update:u}=t.$$;s&&s.m(e,o),c||N((()=>{const e=i.map(n).filter(r);a?a.push(...e):l(e),t.$$.on_mount=[]})),u.forEach(N)}function nt(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ot(t,e){-1===t.$$.dirty[0]&&(H.push(t),G||(G=!0,D.then(V)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function lt(e,n,r,c,s,a,u,f=[-1]){const d=i;E(e);const $=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:f,skip_bound:!1,root:n.target||d.$$.root};u&&u($.root);let g=!1;if($.ctx=r?r(e,n.props||{},((t,n,...o)=>{const l=o.length?o[0]:n;return $.ctx&&s($.ctx[t],$.ctx[t]=l)&&(!$.skip_bound&&$.bound[t]&&$.bound[t](l),g&&ot(e,t)),n})):[],$.update(),g=!0,l($.before_update),$.fragment=!!c&&c($.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);$.fragment&&$.fragment.l(t),t.forEach(h)}else $.fragment&&$.fragment.c();n.intro&&W(e.$$.fragment),et(e,n.target,n.anchor,n.customElement),V()}E(d)}class rt{$destroy(){nt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ct(n){let o,l,r,c,s,i,a=(n[2]?globalThis.i18n(n[0]):n[0])+"",u=[{class:c=`button-wrapper ${n[3]} ${n[1]?"is-active":""}`},n[4]],f={};for(let t=0;t<u.length;t+=1)f=e(f,u[t]);return{c(){o=w("button"),l=w("div"),r=b(a),T(o,f)},m(t,e){m(t,o,e),p(o,l),p(l,r),o.autofocus&&o.focus(),s||(i=C(o,"click",n[5]),s=!0)},p(t,[e]){5&e&&a!==(a=(t[2]?globalThis.i18n(t[0]):t[0])+"")&&A(r,a),T(o,f=X(u,[10&e&&c!==(c=`button-wrapper ${t[3]} ${t[1]?"is-active":""}`)&&{class:c},16&e&&t[4]]))},i:t,o:t,d(t){t&&h(o),s=!1,i()}}}function st(t,n,o){const l=["text","isActive","doLocalizeText","class"];let r=$(n,l),{text:c}=n,{isActive:s}=n,{doLocalizeText:i=!0}=n,{class:a=""}=n;return t.$$set=t=>{n=e(e({},n),d(t)),o(4,r=$(n,l)),"text"in t&&o(0,c=t.text),"isActive"in t&&o(1,s=t.isActive),"doLocalizeText"in t&&o(2,i=t.doLocalizeText),"class"in t&&o(3,a=t.class)},[c,s,i,a,r,function(e){I.call(this,t,e)}]}class it extends rt{constructor(t){super(),lt(this,t,st,ct,c,{text:0,isActive:1,doLocalizeText:2,class:3})}}function at(t,e,n){const o=t.slice();return o[2]=e[n][0],o[3]=e[n][1],o[5]=n,o}function ut(e){let n,o,l,r,c,s=e[2]+"",i=e[3]+"";return{c(){n=w("tr"),o=w("td"),l=b(s),r=w("td"),c=b(i)},m(t,e){m(t,n,e),p(n,o),p(o,l),p(n,r),p(r,c)},p:t,d(t){t&&h(n)}}}function ft(t){let e,n,o,l,r,c,s,i,a,u,f;l=new it({props:{type:"button",text:"ðŸ ” Back",class:"sm"}}),l.$on("click",t[1]);let d=t[0],$=[];for(let e=0;e<d.length;e+=1)$[e]=ut(at(t,d,e));return{c(){e=w("div"),n=w("aside"),o=w("div"),tt(l.$$.fragment),r=y(),c=w("span"),c.textContent="Credits",s=y(),i=w("main"),a=w("table"),u=w("tbody");for(let t=0;t<$.length;t+=1)$[t].c();L(o,"class","flex align-items-center gap-15 svelte-5yfd45"),L(n,"class","flex flex-direction-column gap-15"),L(e,"class","flex svelte-5yfd45")},m(t,d){m(t,e,d),p(e,n),p(n,o),et(l,o,null),p(o,r),p(o,c),p(e,s),p(e,i),p(i,a),p(a,u);for(let t=0;t<$.length;t+=1)$[t].m(u,null);f=!0},p(t,[e]){if(1&e){let n;for(d=t[0],n=0;n<d.length;n+=1){const o=at(t,d,n);$[n]?$[n].p(o,e):($[n]=ut(o),$[n].c(),$[n].m(u,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=d.length}},i(t){f||(W(l.$$.fragment,t),f=!0)},o(t){Q(l.$$.fragment,t),f=!1},d(t){t&&h(e),nt(l),v($,t)}}}function dt(t){return[[["Jordan O'Leary","Programming, Game Design, and Concept"],["theBlurryBox","Art and Animation"],["Valentin Cochet","@coc_val | Sound Effect Design"],["Jake O'Connell","UI Design"],["BananaMilk","Music"],["Lost Lumens, Brad Clark","Audio Mastering"],["Matt Sweda","Concept Ideation Assistance"]],()=>window.goBack()]}class $t extends rt{constructor(t){super(),lt(this,t,dt,ft,c,{})}}function gt(n){let o,l,r,c,s,i,u,f,d,$,g,v=[{class:d=`button-wrapper ${n[6]} ${n[4]?"is-active":""}`},n[7]],x={};for(let t=0;t<v.length;t+=1)x=e(x,v[t]);return{c(){o=w("a"),l=w("button"),r=w("div"),c=w("img"),i=y(),u=w("span"),f=b(n[5]),a(c.src,s=n[0])||L(c,"src",s),L(c,"width",n[3]),L(c,"alt",n[1]),L(r,"class","svelte-1c8t67o"),T(l,x),S(l,"svelte-1c8t67o",!0),L(o,"href",n[2])},m(t,e){m(t,o,e),p(o,l),p(l,r),p(r,c),p(r,i),p(r,u),p(u,f),l.autofocus&&l.focus(),$||(g=C(l,"click",n[8]),$=!0)},p(t,[e]){1&e&&!a(c.src,s=t[0])&&L(c,"src",s),8&e&&L(c,"width",t[3]),2&e&&L(c,"alt",t[1]),32&e&&A(f,t[5]),T(l,x=X(v,[80&e&&d!==(d=`button-wrapper ${t[6]} ${t[4]?"is-active":""}`)&&{class:d},128&e&&t[7]])),S(l,"svelte-1c8t67o",!0),4&e&&L(o,"href",t[2])},i:t,o:t,d(t){t&&h(o),$=!1,g()}}}function pt(t,n,o){const l=["src","alt","href","width","isActive","text","class"];let r=$(n,l),{src:c}=n,{alt:s}=n,{href:i}=n,{width:a}=n,{isActive:u}=n,{text:f=""}=n,{class:g=""}=n;return t.$$set=t=>{n=e(e({},n),d(t)),o(7,r=$(n,l)),"src"in t&&o(0,c=t.src),"alt"in t&&o(1,s=t.alt),"href"in t&&o(2,i=t.href),"width"in t&&o(3,a=t.width),"isActive"in t&&o(4,u=t.isActive),"text"in t&&o(5,f=t.text),"class"in t&&o(6,g=t.class)},[c,s,i,a,u,f,g,r,function(e){I.call(this,t,e)}]}class mt extends rt{constructor(t){super(),lt(this,t,pt,gt,c,{src:0,alt:1,href:2,width:3,isActive:4,text:5,class:6})}}function ht(t,e,n){const o=t.slice();return o[2]=e[n],o}function vt(t){let e,n;return e=new it({props:{type:"button",text:t[2]}}),e.$on("click",(function(){return t[1](t[2])})),{c(){tt(e.$$.fragment)},m(t,o){et(e,t,o),n=!0},p(e,n){t=e},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Q(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function wt(t){let e,n,o,l,r,c,s,i,a,u,f,d,$,g,x,b,k,C,T,A,M,S,E,P,B,R;r=new it({props:{type:"button",text:"ðŸ ” Back",class:"sm"}}),r.$on("click",t[0]),b=new mt({props:{src:"ui/UI_Bird.png",alt:"Twitter @spellmasons",width:"24px",href:"https://twitter.com/spellmasons",class:"button-wrapper-bg-2",text:"@spellmasons"}}),A=new mt({props:{src:"ui/discord_logo.png",alt:"Spellmasons Discord https://discord.gg/q6sUCreHeJ",width:"24px",href:"https://discord.gg/q6sUCreHeJ",class:"button-wrapper-bg-2",text:"Discord"}});let I=window.explainKeys||[],H=[];for(let e=0;e<I.length;e+=1)H[e]=vt(ht(t,I,e));const q=t=>Q(H[t],1,1,(()=>{H[t]=null}));return{c(){e=w("div"),n=w("aside"),o=w("div"),l=w("div"),tt(r.$$.fragment),c=y(),s=w("h1"),s.textContent="Help",i=y(),a=w("div"),u=y(),f=w("main"),d=w("div"),$=w("div"),g=w("h1"),g.textContent="Contact Me!",x=y(),tt(b.$$.fragment),k=y(),C=w("h1"),C.textContent="Join our Discord Community!",T=y(),tt(A.$$.fragment),M=y(),S=w("h1"),S.textContent="How to",E=y();for(let t=0;t<H.length;t+=1)H[t].c();P=y(),B=w("div"),L(s,"class","options-title svelte-z08h7l"),L(l,"class","flex align-items-center gap-20"),L(a,"class","flex flex-direction-column gap-15"),L(o,"class","flex flex-direction-column gap-15 pad-20"),L(n,"class","svelte-z08h7l"),L($,"class","pad-20 flex flex-direction-column gap-15 overflowyscroll"),_($,"min-width","300px"),L(B,"id","explain-portal"),L(B,"class","svelte-z08h7l"),L(d,"class","flex gap-15 height100"),L(e,"class","flex height100")},m(t,h){m(t,e,h),p(e,n),p(n,o),p(o,l),et(r,l,null),p(l,c),p(l,s),p(o,i),p(o,a),p(e,u),p(e,f),p(f,d),p(d,$),p($,g),p($,x),et(b,$,null),p($,k),p($,C),p($,T),et(A,$,null),p($,M),p($,S),p($,E);for(let t=0;t<H.length;t+=1)H[t].m($,null);p(d,P),p(d,B),R=!0},p(t,[e]){if(0&e){let n;for(I=window.explainKeys||[],n=0;n<I.length;n+=1){const o=ht(t,I,n);H[n]?(H[n].p(o,e),W(H[n],1)):(H[n]=vt(o),H[n].c(),W(H[n],1),H[n].m($,null))}for(K(),n=I.length;n<H.length;n+=1)q(n);Z()}},i(t){if(!R){W(r.$$.fragment,t),W(b.$$.fragment,t),W(A.$$.fragment,t);for(let t=0;t<I.length;t+=1)W(H[t]);R=!0}},o(t){Q(r.$$.fragment,t),Q(b.$$.fragment,t),Q(A.$$.fragment,t),H=H.filter(Boolean);for(let t=0;t<H.length;t+=1)Q(H[t]);R=!1},d(t){t&&h(e),nt(r),nt(b),nt(A),v(H,t)}}}function xt(t){return[()=>window.goBack(),t=>window.menuExplain(t,!0)]}class bt extends rt{constructor(t){super(),lt(this,t,xt,wt,c,{})}}function yt(e){let n,o,l,r,c,s,i,a,u,f,d,$,g,v,x,b,k,C,T,A,M,_,S,E,P,B,R,I,H,q,O,U,D,G,N;return{c(){n=w("table"),o=w("tr"),l=w("td"),l.textContent=`${globalThis.i18n("Clear Active Spell")}`,r=y(),c=w("td"),c.innerHTML='<kbd class="hotkey-badge">Esc</kbd>',s=y(),i=w("tr"),a=w("td"),a.textContent=`${globalThis.i18n("Free Look")}`,u=y(),f=w("td"),f.innerHTML='<kbd class="hotkey-badge">W</kbd> \n            <kbd class="hotkey-badge">A</kbd> \n            <kbd class="hotkey-badge">S</kbd> \n            <kbd class="hotkey-badge">D</kbd>\n            or Click and Drag Middle Mouse Button',d=y(),$=w("tr"),g=w("td"),g.textContent=`${globalThis.i18n("Camera Follow Player")}`,v=y(),x=w("td"),x.innerHTML='<kbd class="hotkey-badge">Z</kbd>',b=y(),k=w("tr"),C=w("td"),C.textContent=`${globalThis.i18n("Ping Location")}`,T=y(),A=w("td"),A.innerHTML='<kbd class="hotkey-badge">C</kbd>',M=y(),_=w("tr"),S=w("td"),S.textContent=`${globalThis.i18n("Toggle Menu")}`,E=y(),P=w("td"),P.innerHTML='<kbd class="hotkey-badge">Esc</kbd>',B=y(),R=w("tr"),I=w("td"),I.textContent=`${globalThis.i18n("Inventory")}`,H=y(),q=w("td"),q.innerHTML='<kbd class="hotkey-badge">Tab</kbd>\n            /\n            <kbd class="hotkey-badge">i</kbd>',O=y(),U=w("tr"),D=w("td"),D.textContent=`${globalThis.i18n("View Walk Distance")}`,G=y(),N=w("td"),N.innerHTML='<kbd class="hotkey-badge">f</kbd>',L(i,"id","center-cam-info"),L($,"id","center-cam-tooltip"),L(n,"id","keymapping")},m(t,e){m(t,n,e),p(n,o),p(o,l),p(o,r),p(o,c),p(n,s),p(n,i),p(i,a),p(i,u),p(i,f),p(n,d),p(n,$),p($,g),p($,v),p($,x),p(n,b),p(n,k),p(k,C),p(k,T),p(k,A),p(n,M),p(n,_),p(_,S),p(_,E),p(_,P),p(n,B),p(n,R),p(R,I),p(R,H),p(R,q),p(n,O),p(n,U),p(U,D),p(U,G),p(U,N)},p:t,i:t,o:t,d(t){t&&h(n)}}}class kt extends rt{constructor(t){super(),lt(this,t,null,yt,c,{})}}const Ct=[];function Lt(e,n=t){let o;const l=new Set;function r(t){if(c(e,t)&&(e=t,o)){const t=!Ct.length;for(const t of l)t[1](),Ct.push(t,e);if(t){for(let t=0;t<Ct.length;t+=2)Ct[t][0](Ct[t+1]);Ct.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(c,s=t){const i=[c,s];return l.add(i),1===l.size&&(o=n(r)||t),c(e),()=>{l.delete(i),0===l.size&&(o(),o=null)}}}}const Tt=Lt(!1),At=Lt([]),Mt=Lt(!1),_t=Lt(!1),St=Lt(!1);function Et(){const t=window.isConnected();Mt.set(t),t||_t.set(!1),St.set(!1)}function Pt(){return window.pieDisconnect().then(Et)}function Bt(e){let n,o,r,c,s,i,a,u,f,d,$,g;return{c(){n=w("div"),o=w("div"),r=w("label"),r.textContent=`${globalThis.i18n("Player Name")}`,c=y(),s=w("input"),i=y(),a=w("div"),u=w("label"),u.textContent=`${globalThis.i18n("Robe Color")}`,f=y(),d=w("input"),L(r,"for","player-name"),L(s,"type","text"),L(s,"name","player-name"),L(o,"class","flex flex-direction-column gap-15"),L(u,"for","robe"),L(d,"type","color"),L(d,"name","robe"),L(a,"class","flex flex-direction-column gap-15"),L(n,"class","flex gap-15")},m(t,l){m(t,n,l),p(n,o),p(o,r),p(o,c),p(o,s),M(s,e[0]),p(n,i),p(n,a),p(a,u),p(a,f),p(a,d),M(d,e[1]),$||(g=[C(s,"input",e[3]),C(s,"input",e[4]),C(d,"input",e[5]),C(d,"blur",e[6])],$=!0)},p(t,[e]){1&e&&s.value!==t[0]&&M(s,t[0]),2&e&&M(d,t[1])},i:t,o:t,d(t){t&&h(n),$=!1,l(g)}}}function Rt(t,e,n){let o;u(t,At,(t=>n(7,o=t)));let l=localStorage.getItem("player-name"),r=`#${parseInt(localStorage.getItem("player-color")).toString(16)}`;function c(t,e){var n;window.configPlayer({color:(n=t,parseInt(n.slice(1),16)),name:e}),g(At,o=globalThis.lobbyPlayerList,o)}B((()=>{setTimeout((()=>{c(r,l)}),200)}));return[l,r,c,function(){l=this.value,n(0,l)},()=>{c(r,l)},function(){r=this.value,n(1,r)},()=>{c(r,l)}]}class It extends rt{constructor(t){super(),lt(this,t,Rt,Bt,c,{})}}function Ht(e){let n,o,l;return o=new it({props:{text:"Toggle FPS / Latency Monitor"}}),o.$on("click",e[9]),{c(){n=w("div"),tt(o.$$.fragment)},m(t,e){m(t,n,e),et(o,n,null),l=!0},p:t,i(t){l||(W(o.$$.fragment,t),l=!0)},o(t){Q(o.$$.fragment,t),l=!1},d(t){t&&h(n),nt(o)}}}function qt(e){let n,o;return n=new kt({}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),o=!0},p:t,i(t){o||(W(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){nt(n,t)}}}function Ot(e){let n,o;return n=new It({}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),o=!0},p:t,i(t){o||(W(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){nt(n,t)}}}function Ut(e){let n,o,l;return o=new it({props:{text:"Toggle Fullscreen"}}),o.$on("click",e[8]),{c(){n=w("div"),tt(o.$$.fragment),L(n,"class","flex flex-direction-column gap-15")},m(t,e){m(t,n,e),et(o,n,null),l=!0},p:t,i(t){l||(W(o.$$.fragment,t),l=!0)},o(t){Q(o.$$.fragment,t),l=!1},d(t){t&&h(n),nt(o)}}}function Dt(e){let n,o,r,c,s,i,a,u,f,d,$,g,v,x,k=globalThis.i18n("Total Volume")+"",T=globalThis.i18n("Music Volume")+"",A=globalThis.i18n("Sound Effects Volume")+"";return{c(){n=w("div"),o=b(k),r=y(),c=w("input"),s=y(),i=b(T),a=y(),u=w("input"),f=y(),d=b(A),$=y(),g=w("input"),L(c,"type","range"),c.value=100*window.volume,L(c,"min","0"),L(c,"max","100"),L(u,"type","range"),u.value=100*window.volumeMusic,L(u,"min","0"),L(u,"max","100"),L(g,"type","range"),g.value=100*window.volumeGame,L(g,"min","0"),L(g,"max","100"),L(n,"class","flex flex-direction-column gap-15")},m(t,e){m(t,n,e),p(n,o),p(n,r),p(n,c),p(n,s),p(n,i),p(n,a),p(n,u),p(n,f),p(n,d),p(n,$),p(n,g),v||(x=[C(c,"input",Jt),C(u,"input",Yt),C(g,"input",Kt)],v=!0)},p:t,i:t,o:t,d(t){t&&h(n),v=!1,l(x)}}}function Gt(t){let e,n,o,l,r,c,s,i,a,u,f,d,$,g,v,x,b,k,C,T,A,M,_,S;r=new it({props:{type:"button",text:"ðŸ ” Back",class:"sm"}}),r.$on("click",t[2]),u=new it({props:{isActive:t[0]==Vt,type:"button",text:"Audio"}}),u.$on("click",t[3]),d=new it({props:{isActive:t[0]==Ft,type:"button",text:"Video"}}),d.$on("click",t[4]),g=new it({props:{isActive:t[0]==zt,type:"button",text:"Player Configuration"}}),g.$on("click",t[5]),x=new it({props:{isActive:t[0]==Nt,type:"button",text:"Controls"}}),x.$on("click",t[6]),k=new it({props:{isActive:t[0]==jt,type:"button",text:"Extras"}}),k.$on("click",t[7]);const E=[Dt,Ut,Ot,qt,Ht],P=[];function B(t,e){return t[0]==Vt?0:t[0]==Ft?1:t[0]==zt?2:t[0]==Nt?3:t[0]==jt?4:-1}return~(M=B(t))&&(_=P[M]=E[M](t)),{c(){e=w("div"),n=w("aside"),o=w("div"),l=w("div"),tt(r.$$.fragment),c=y(),s=w("h1"),s.textContent=`${globalThis.i18n("Settings")}`,i=y(),a=w("div"),tt(u.$$.fragment),f=y(),tt(d.$$.fragment),$=y(),tt(g.$$.fragment),v=y(),tt(x.$$.fragment),b=y(),tt(k.$$.fragment),C=y(),T=w("main"),A=w("div"),_&&_.c(),L(s,"class","options-title svelte-exei4x"),L(l,"class","flex align-items-center gap-20"),L(a,"class","flex flex-direction-column gap-15"),L(o,"class","flex flex-direction-column gap-15 pad-20"),L(n,"class","svelte-exei4x"),L(A,"class","pad-20"),L(e,"class","flex")},m(t,h){m(t,e,h),p(e,n),p(n,o),p(o,l),et(r,l,null),p(l,c),p(l,s),p(o,i),p(o,a),et(u,a,null),p(a,f),et(d,a,null),p(a,$),et(g,a,null),p(a,v),et(x,a,null),p(a,b),et(k,a,null),p(e,C),p(e,T),p(T,A),~M&&P[M].m(A,null),S=!0},p(t,[e]){const n={};1&e&&(n.isActive=t[0]==Vt),u.$set(n);const o={};1&e&&(o.isActive=t[0]==Ft),d.$set(o);const l={};1&e&&(l.isActive=t[0]==zt),g.$set(l);const r={};1&e&&(r.isActive=t[0]==Nt),x.$set(r);const c={};1&e&&(c.isActive=t[0]==jt),k.$set(c);let s=M;M=B(t),M===s?~M&&P[M].p(t,e):(_&&(K(),Q(P[s],1,1,(()=>{P[s]=null})),Z()),~M?(_=P[M],_?_.p(t,e):(_=P[M]=E[M](t),_.c()),W(_,1),_.m(A,null)):_=null)},i(t){S||(W(r.$$.fragment,t),W(u.$$.fragment,t),W(d.$$.fragment,t),W(g.$$.fragment,t),W(x.$$.fragment,t),W(k.$$.fragment,t),W(_),S=!0)},o(t){Q(r.$$.fragment,t),Q(u.$$.fragment,t),Q(d.$$.fragment,t),Q(g.$$.fragment,t),Q(x.$$.fragment,t),Q(k.$$.fragment,t),Q(_),S=!1},d(t){t&&h(e),nt(r),nt(u),nt(d),nt(g),nt(x),nt(k),~M&&P[M].d()}}}const Nt="KEY_MAPPING",jt="EXTRAS",zt="PLAYER_CONFIG",Vt="AUDIO",Ft="VIDEO";function Jt(t){window.changeVolume(t.target.value/100)}function Yt(t){window.changeVolumeMusic(t.target.value/100)}function Kt(t){window.changeVolumeGame(t.target.value/100)}function Zt(t,e,n){let o=Vt;function l(t){n(0,o=t)}return[o,l,()=>window.goBack(),()=>l(Vt),()=>l(Ft),()=>l(zt),()=>l(Nt),()=>l(jt),()=>{document.fullscreenElement?document.exitFullscreen():document.body.requestFullscreen().catch((t=>{console.error(`Error attempting to enable fullscreen mode: ${t.message} (${t.name})`)}))},()=>{window.monitorFPS()}]}class Wt extends rt{constructor(t){super(),lt(this,t,Zt,Gt,c,{})}}function Qt(t){let n,o,l,r,c,s;const i=t[4].default,a=function(t,e,n,o){if(t){const l=f(t,e,n,o);return t[0](l)}}(i,t,t[3],null);let u=[{class:l=`button-wrapper ${t[1]} ${t[0]?"is-active":""}`},t[2]],d={};for(let t=0;t<u.length;t+=1)d=e(d,u[t]);return{c(){n=w("button"),o=w("div"),a&&a.c(),L(o,"class","svelte-1k1vcg6"),T(n,d),S(n,"svelte-1k1vcg6",!0)},m(e,l){m(e,n,l),p(n,o),a&&a.m(o,null),n.autofocus&&n.focus(),r=!0,c||(s=C(n,"click",t[5]),c=!0)},p(t,[e]){a&&a.p&&(!r||8&e)&&function(t,e,n,o,l,r){if(l){const c=f(e,n,o,r);t.p(c,l)}}(a,i,t,t[3],r?function(t,e,n,o){if(t[2]&&o){const l=t[2](o(n));if(void 0===e.dirty)return l;if("object"==typeof l){const t=[],n=Math.max(e.dirty.length,l.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|l[o];return t}return e.dirty|l}return e.dirty}(i,t[3],e,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[3]),null),T(n,d=X(u,[(!r||3&e&&l!==(l=`button-wrapper ${t[1]} ${t[0]?"is-active":""}`))&&{class:l},4&e&&t[2]])),S(n,"svelte-1k1vcg6",!0)},i(t){r||(W(a,t),r=!0)},o(t){Q(a,t),r=!1},d(t){t&&h(n),a&&a.d(t),c=!1,s()}}}function Xt(t,n,o){const l=["isActive","class"];let r=$(n,l),{$$slots:c={},$$scope:s}=n,{isActive:i}=n,{class:a=""}=n;return t.$$set=t=>{n=e(e({},n),d(t)),o(2,r=$(n,l)),"isActive"in t&&o(0,i=t.isActive),"class"in t&&o(1,a=t.class),"$$scope"in t&&o(3,s=t.$$scope)},[i,a,r,s,c,function(e){I.call(this,t,e)}]}class te extends rt{constructor(t){super(),lt(this,t,Xt,Qt,c,{isActive:0,class:1})}}function ee(e){let n,o,l,r,c,s,i,a,u,f,d,$,g,v,w,y,k,C,T,A;return{c(){n=x("svg"),o=x("title"),l=b("Language / Localization"),r=x("defs"),c=x("style"),s=b(".cls-1 {\r\n                stroke: #231f20;\r\n            }\r\n\r\n            .cls-1,\r\n            .cls-2 {\r\n                fill: none;\r\n                stroke-miterlimit: 10;\r\n            }\r\n\r\n            .cls-2 {\r\n                stroke: #fff;\r\n            }\r\n        "),i=x("g"),a=x("circle"),u=x("path"),f=x("line"),d=x("g"),$=x("path"),g=x("g"),v=x("path"),w=x("g"),y=x("path"),k=x("g"),C=x("path"),T=x("g"),A=x("line"),L(o,"id","title"),L(a,"class","cls-2"),L(a,"cx","32.5"),L(a,"cy","32.5"),L(a,"r","32"),L(u,"class","cls-1"),L(u,"d","M32.5,64.5v0Z"),L(f,"class","cls-2"),L(f,"x1",".5"),L(f,"y1","32.5"),L(f,"x2","64.5"),L(f,"y2","32.5"),L(i,"id","Layer_1"),L(i,"data-name","Layer 1"),L($,"class","cls-2"),L($,"d","M32.5,64.5C-8.55,32.5,32.5,.5,32.5,.5"),L(d,"id","Layer_2"),L(d,"data-name","Layer 2"),L(v,"class","cls-2"),L(v,"d","M32.5,.5s42.98,32,0,64"),L(g,"id","Layer_3"),L(g,"data-name","Layer 3"),L(y,"class","cls-2"),L(y,"d","M11.22,8.49s21.28,13.57,42.6,.15"),L(w,"id","Layer_4"),L(w,"data-name","Layer 4"),L(C,"class","cls-2"),L(C,"d","M11.22,56.56s21.28-13.27,42.6,0"),L(k,"id","Layer_5"),L(k,"data-name","Layer 5"),L(A,"class","cls-2"),L(A,"x1","32.5"),L(A,"y1",".5"),L(A,"x2","32.5"),L(A,"y2","64.5"),L(T,"id","Layer_6"),L(T,"data-name","Layer 6"),L(n,"xmlns","http://www.w3.org/2000/svg"),L(n,"viewBox","-1 0 67 66"),L(n,"labelledby","title"),L(n,"role","img"),L(n,"width","24px"),L(n,"height","24px"),L(n,"class","svelte-1sy6cvw")},m(t,e){m(t,n,e),p(n,o),p(o,l),p(n,r),p(r,c),p(c,s),p(n,i),p(i,a),p(i,u),p(i,f),p(n,d),p(d,$),p(n,g),p(g,v),p(n,w),p(w,y),p(n,k),p(k,C),p(n,T),p(T,A)},p:t,i:t,o:t,d(t){t&&h(n)}}}class ne extends rt{constructor(t){super(),lt(this,t,null,ee,c,{})}}const oe="OPTIONS",le="LOCALIZATION",re="CREDITS",ce="HELP",se="PLAY",ie="MULTIPLAYER_SERVER_CHOOSER";function ae(t){let e,n;return e=new ne({}),{c(){tt(e.$$.fragment)},m(t,o){et(e,t,o),n=!0},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Q(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function ue(t){let e,n,o,l,r={ctx:t,current:null,token:null,hasCatch:!0,pending:ge,then:$e,catch:de,blocks:[,,,]};return function(t,e){const n=e.token={};function o(t,o,l,r){if(e.token!==n)return;e.resolved=r;let c=e.ctx;void 0!==l&&(c=c.slice(),c[l]=r);const s=t&&(e.current=t)(c);let i=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(K(),Q(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),Z())})):e.block.d(1),s.c(),W(s,1),s.m(e.mount(),e.anchor),i=!0),e.block=s,e.blocks&&(e.blocks[o]=s),i&&V()}if((l=t)&&"object"==typeof l&&"function"==typeof l.then){const n=P();if(t.then((t=>{E(n),o(e.then,1,e.value,t),E(null)}),(t=>{if(E(n),o(e.catch,2,e.error,t),E(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var l}(window.setupPixiPromise,r),{c(){e=w("div"),n=y(),o=k(),r.block.c(),L(e,"id","websocket-pie-connection-status")},m(t,c){m(t,e,c),m(t,n,c),m(t,o,c),r.block.m(t,r.anchor=c),r.mount=()=>o.parentNode,r.anchor=o,l=!0},p(e,n){!function(t,e,n){const o=e.slice(),{resolved:l}=t;t.current===t.then&&(o[t.value]=l),t.current===t.catch&&(o[t.error]=l),t.block.p(o,n)}(r,t=e,n)},i(t){l||(W(r.block),l=!0)},o(t){for(let t=0;t<3;t+=1){Q(r.blocks[t])}l=!1},d(t){t&&h(e),t&&h(n),t&&h(o),r.block.d(t),r.token=null,r=null}}}function fe(e){let n,o,l,r,c,s,i;return o=new it({props:{text:"Resume Game"}}),o.$on("click",me),r=new it({props:{text:"Settings"}}),r.$on("click",e[8]),s=new it({props:{text:"Quit to Main Menu"}}),s.$on("click",e[4]),{c(){n=w("div"),tt(o.$$.fragment),l=y(),tt(r.$$.fragment),c=y(),tt(s.$$.fragment),L(n,"class","list svelte-g9yx2d")},m(t,e){m(t,n,e),et(o,n,null),p(n,l),et(r,n,null),p(n,c),et(s,n,null),i=!0},p:t,i(t){i||(W(o.$$.fragment,t),W(r.$$.fragment,t),W(s.$$.fragment,t),i=!0)},o(t){Q(o.$$.fragment,t),Q(r.$$.fragment,t),Q(s.$$.fragment,t),i=!1},d(t){t&&h(n),nt(o),nt(r),nt(s)}}}function de(e){let n;return{c(){n=w("p"),n.textContent="Something went wrong loading assets",_(n,"color","red")},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&h(n)}}}function $e(e){let n,o,l,r,c,s,i,a,u;return o=new it({props:{text:"New Run"}}),o.$on("click",e[2]),r=new it({props:{text:"Multiplayer"}}),r.$on("click",e[3]),s=new it({props:{text:"Settings"}}),s.$on("click",e[9]),{c(){n=w("div"),tt(o.$$.fragment),l=y(),tt(r.$$.fragment),c=y(),tt(s.$$.fragment),i=y(),a=w("br"),L(n,"class","list svelte-g9yx2d")},m(t,e){m(t,n,e),et(o,n,null),p(n,l),et(r,n,null),p(n,c),et(s,n,null),m(t,i,e),m(t,a,e),u=!0},p:t,i(t){u||(W(o.$$.fragment,t),W(r.$$.fragment,t),W(s.$$.fragment,t),u=!0)},o(t){Q(o.$$.fragment,t),Q(r.$$.fragment,t),Q(s.$$.fragment,t),u=!1},d(t){t&&h(n),nt(o),nt(r),nt(s),t&&h(i),t&&h(a)}}}function ge(e){let n;return{c(){n=b("loading assets...")},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&h(n)}}}function pe(t){let e,n,o,l,r,c,s,i,a,u,f,d,$,g,v,x,b;n=new it({props:{text:"Help"}}),n.$on("click",t[5]),r=new it({props:{text:"Credits"}}),r.$on("click",t[6]),i=new mt({props:{src:"ui/UI_Bird.png",alt:"Twitter @spellmasons",width:"24px",href:"https://twitter.com/spellmasons",class:"button-wrapper-bg-2"}}),u=new mt({props:{src:"ui/discord_logo.png",alt:"Spellmasons Discord https://discord.gg/q6sUCreHeJ",width:"24px",href:"https://discord.gg/q6sUCreHeJ",class:"button-wrapper-bg-2"}}),d=new te({props:{class:"button-wrapper-bg-2",$$slots:{default:[ae]},$$scope:{ctx:t}}}),d.$on("click",t[7]);const C=[fe,ue],T=[];function A(t,e){return t[1]?0:1}return g=A(t),v=T[g]=C[g](t),{c(){e=w("div"),tt(n.$$.fragment),o=y(),l=w("div"),tt(r.$$.fragment),c=y(),s=w("div"),tt(i.$$.fragment),a=y(),tt(u.$$.fragment),f=y(),tt(d.$$.fragment),$=y(),v.c(),x=k(),L(e,"id","corner-left"),L(e,"class","flex gap svelte-g9yx2d"),_(e,"flex-direction","column"),L(s,"class","flex gap svelte-g9yx2d"),L(l,"id","corner"),L(l,"class","flex gap svelte-g9yx2d"),_(l,"flex-direction","column")},m(t,h){m(t,e,h),et(n,e,null),m(t,o,h),m(t,l,h),et(r,l,null),p(l,c),p(l,s),et(i,s,null),p(s,a),et(u,s,null),p(s,f),et(d,s,null),m(t,$,h),T[g].m(t,h),m(t,x,h),b=!0},p(t,[e]){const n={};2048&e&&(n.$$scope={dirty:e,ctx:t}),d.$set(n);let o=g;g=A(t),g===o?T[g].p(t,e):(K(),Q(T[o],1,1,(()=>{T[o]=null})),Z(),v=T[g],v?v.p(t,e):(v=T[g]=C[g](t),v.c()),W(v,1),v.m(x.parentNode,x))},i(t){b||(W(n.$$.fragment,t),W(r.$$.fragment,t),W(i.$$.fragment,t),W(u.$$.fragment,t),W(d.$$.fragment,t),W(v),b=!0)},o(t){Q(n.$$.fragment,t),Q(r.$$.fragment,t),Q(i.$$.fragment,t),Q(u.$$.fragment,t),Q(d.$$.fragment,t),Q(v),b=!1},d(t){t&&h(e),nt(n),t&&h(o),t&&h(l),nt(r),nt(i),nt(u),nt(d),t&&h($),T[g].d(t),t&&h(x)}}}function me(){window.closeMenu()}function he(t,e,n){let o;u(t,Tt,(t=>n(10,o=t)));let{setRoute:l}=e,{inGame:r}=e;return t.$$set=t=>{"setRoute"in t&&n(0,l=t.setRoute),"inGame"in t&&n(1,r=t.inGame)},[l,r,function(){window.playMusic(),g(Tt,o=!0,o),window.startSingleplayer().then((()=>{Et()}))},function(){window.playMusic(),o&&Pt(),g(Tt,o=!1,o),l(ie)},function(){if(confirm("Are you sure you want to quit to Main Menu?")){const t=new URL(location.href);t.searchParams.delete("game"),t.searchParams.delete("pieUrl"),window.history.pushState(null,null,t),window.exitCurrentGame().then(Et)}},()=>l(ce),()=>l(re),()=>{l(le)},()=>l(oe),()=>l(oe)]}class ve extends rt{constructor(t){super(),lt(this,t,he,pe,c,{setRoute:0,inGame:1})}}function we(t,e,n){const o=t.slice();return o[4]=e[n].language,o[5]=e[n].code,o[7]=n,o}function xe(t){let e,n;return e=new it({props:{text:t[4],isActive:t[1]==t[5],doLocalizeText:!1}}),e.$on("click",(function(){return t[3](t[5])})),{c(){tt(e.$$.fragment)},m(t,o){et(e,t,o),n=!0},p(e,n){t=e},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Q(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function be(t){let e,n,o,l,r,c,s,i,a,u,f;r=new it({props:{type:"button",text:"ðŸ ” Back",class:"sm"}}),r.$on("click",t[2]);let d=t[0],$=[];for(let e=0;e<d.length;e+=1)$[e]=xe(we(t,d,e));const g=t=>Q($[t],1,1,(()=>{$[t]=null}));return{c(){e=w("div"),n=w("aside"),o=w("div"),l=w("div"),tt(r.$$.fragment),c=y(),s=w("h1"),s.textContent=`${globalThis.i18n("Localization")}`,i=y(),a=w("main"),u=w("div");for(let t=0;t<$.length;t+=1)$[t].c();L(s,"class","options-title svelte-exei4x"),L(l,"class","flex align-items-center gap-20"),L(o,"class","flex flex-direction-column gap-15 pad-20"),L(n,"class","svelte-exei4x"),L(u,"class","pad-20 flex flex-direction-column gap-15"),L(e,"class","flex")},m(t,d){m(t,e,d),p(e,n),p(n,o),p(o,l),et(r,l,null),p(l,c),p(l,s),p(e,i),p(e,a),p(a,u);for(let t=0;t<$.length;t+=1)$[t].m(u,null);f=!0},p(t,[e]){if(3&e){let n;for(d=t[0],n=0;n<d.length;n+=1){const o=we(t,d,n);$[n]?($[n].p(o,e),W($[n],1)):($[n]=xe(o),$[n].c(),W($[n],1),$[n].m(u,null))}for(K(),n=d.length;n<$.length;n+=1)g(n);Z()}},i(t){if(!f){W(r.$$.fragment,t);for(let t=0;t<d.length;t+=1)W($[t]);f=!0}},o(t){Q(r.$$.fragment,t),$=$.filter(Boolean);for(let t=0;t<$.length;t+=1)Q($[t]);f=!1},d(t){t&&h(e),nt(r),v($,t)}}}function ye(t){return[globalThis.getSupportedLanguages(),globalThis.getChosenLanguageCode(),()=>window.goBack(),t=>{globalThis.setLanguage(t,!0),window.location.reload()}]}class ke extends rt{constructor(t){super(),lt(this,t,ye,be,c,{})}}function Ce(e){let n,o,l,r;return l=new it({props:{type:"button",text:"ðŸ ” Back",class:"sm"}}),l.$on("click",e[0]),{c(){n=w("h1"),n.textContent="This page is still being built",o=y(),tt(l.$$.fragment),L(n,"class","svelte-1n2jha3")},m(t,e){m(t,n,e),m(t,o,e),et(l,t,e),r=!0},p:t,i(t){r||(W(l.$$.fragment,t),r=!0)},o(t){Q(l.$$.fragment,t),r=!1},d(t){t&&h(n),t&&h(o),nt(l,t)}}}function Le(t){return[()=>window.goBack()]}class Te extends rt{constructor(t){super(),lt(this,t,Le,Ce,c,{})}}function Ae(t,e,n){const o=t.slice();return o[3]=e[n].name,o[4]=e[n].status,o[5]=e[n].color,o[6]=e[n].ready,o}function Me(t){let e,n,o,l,r,c,s,i,a,u,f,d,$,g=t[3]+"",v=t[4]+"",x=t[6]+"";return{c(){e=w("tr"),n=w("td"),o=b(g),l=y(),r=w("td"),c=b(v),s=y(),i=w("td"),u=y(),f=w("td"),d=b(x),$=y(),L(i,"class","lobby-player-color svelte-g23pjw"),L(i,"style",a=`background-color:${t[5]};`)},m(t,a){m(t,e,a),p(e,n),p(n,o),p(e,l),p(e,r),p(r,c),p(e,s),p(e,i),p(e,u),p(e,f),p(f,d),p(e,$)},p(t,e){1&e&&g!==(g=t[3]+"")&&A(o,g),1&e&&v!==(v=t[4]+"")&&A(c,v),1&e&&a!==(a=`background-color:${t[5]};`)&&L(i,"style",a),1&e&&x!==(x=t[6]+"")&&A(d,x)},d(t){t&&h(e)}}}function _e(t){let e,n,o,l,r,c,s,i,a,u,f;o=new It({}),r=new it({props:{type:"button",text:"Ready",class:"sm"}}),r.$on("click",t[1]);let d=t[0],$=[];for(let e=0;e<d.length;e+=1)$[e]=Me(Ae(t,d,e));return{c(){e=w("h1"),e.textContent="Game Lobby",n=y(),tt(o.$$.fragment),l=y(),tt(r.$$.fragment),c=y(),s=w("table"),i=w("thead"),i.innerHTML="<tr></tr>",a=y(),u=w("tbody");for(let t=0;t<$.length;t+=1)$[t].c();L(s,"id","lobby-player-list"),L(s,"class","svelte-g23pjw")},m(t,d){m(t,e,d),m(t,n,d),et(o,t,d),m(t,l,d),et(r,t,d),m(t,c,d),m(t,s,d),p(s,i),p(s,a),p(s,u);for(let t=0;t<$.length;t+=1)$[t].m(u,null);f=!0},p(t,[e]){if(1&e){let n;for(d=t[0],n=0;n<d.length;n+=1){const o=Ae(t,d,n);$[n]?$[n].p(o,e):($[n]=Me(o),$[n].c(),$[n].m(u,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=d.length}},i(t){f||(W(o.$$.fragment,t),W(r.$$.fragment,t),f=!0)},o(t){Q(o.$$.fragment,t),Q(r.$$.fragment,t),f=!1},d(t){t&&h(e),t&&h(n),nt(o,t),t&&h(l),nt(r,t),t&&h(c),t&&h(s),v($,t)}}}function Se(t,e,n){let o;u(t,At,(t=>n(0,o=t))),B((()=>{setInterval((()=>{g(At,o=globalThis.lobbyPlayerList,o)}),500)})),R((()=>{clearInterval(undefined)}));return[o,()=>{globalThis.configPlayer({lobbyReady:!0})}]}class Ee extends rt{constructor(t){super(),lt(this,t,Se,_e,c,{})}}function Pe(t){let e,n;return{c(){e=b("Connecting...\r\n                "),n=w("div"),n.innerHTML='<div class="svelte-qcde2c"></div> \n                    <div class="svelte-qcde2c"></div> \n                    <div class="svelte-qcde2c"></div> \n                    <div class="svelte-qcde2c"></div>',L(n,"class","lds-ellipsis svelte-qcde2c")},m(t,o){m(t,e,o),m(t,n,o)},d(t){t&&h(e),t&&h(n)}}}function Be(t){let e,n,o,r,c,s,i,a,u,f;const d=[He,Ie,Re],$=[];function g(t,e){return t[0]?0:t[3]?1:2}return c=g(t),s=$[c]=d[c](t),{c(){e=w("p"),e.textContent="Game name",n=y(),o=w("input"),r=y(),s.c(),i=k(),L(o,"class","svelte-qcde2c")},m(l,s){m(l,e,s),m(l,n,s),m(l,o,s),M(o,t[2]),m(l,r,s),$[c].m(l,s),m(l,i,s),a=!0,u||(f=[C(o,"input",t[12]),C(o,"keypress",t[13])],u=!0)},p(t,e){4&e&&o.value!==t[2]&&M(o,t[2]);let n=c;c=g(t),c===n?$[c].p(t,e):(K(),Q($[n],1,1,(()=>{$[n]=null})),Z(),s=$[c],s?s.p(t,e):(s=$[c]=d[c](t),s.c()),W(s,1),s.m(i.parentNode,i))},i(t){a||(W(s),a=!0)},o(t){Q(s),a=!1},d(t){t&&h(e),t&&h(n),t&&h(o),t&&h(r),$[c].d(t),t&&h(i),u=!1,l(f)}}}function Re(e){let n,o,l,r,c;return o=new it({props:{text:"Host"}}),o.$on("click",e[8]),r=new it({props:{text:"Join"}}),r.$on("click",e[8]),{c(){n=w("div"),tt(o.$$.fragment),l=y(),tt(r.$$.fragment),_(n,"display","flex")},m(t,e){m(t,n,e),et(o,n,null),p(n,l),et(r,n,null),c=!0},p:t,i(t){c||(W(o.$$.fragment,t),W(r.$$.fragment,t),c=!0)},o(t){Q(o.$$.fragment,t),Q(r.$$.fragment,t),c=!1},d(t){t&&h(n),nt(o),nt(r)}}}function Ie(e){let n,o;return n=new it({props:{text:"Leave Room"}}),n.$on("click",e[7]),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),o=!0},p:t,i(t){o||(W(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){nt(n,t)}}}function He(e){let n,o;return{c(){n=b("Joining...\r\n                    "),o=w("div"),o.innerHTML='<div class="svelte-qcde2c"></div> \n                        <div class="svelte-qcde2c"></div> \n                        <div class="svelte-qcde2c"></div> \n                        <div class="svelte-qcde2c"></div>',L(o,"class","lds-ellipsis svelte-qcde2c")},m(t,e){m(t,n,e),m(t,o,e)},p:t,i:t,o:t,d(t){t&&h(n),t&&h(o)}}}function qe(t){let e,n;return e=new Ee({}),{c(){tt(e.$$.fragment)},m(t,o){et(e,t,o),n=!0},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Q(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function Oe(t){let e,n,o,r,c,s,i,a,u,f,d,$,g,v,x,k,T,A,_,S,E,P,B,R;c=new it({props:{type:"button",text:"ðŸ ” Back",class:"sm"}}),c.$on("click",t[9]),k=new it({props:{disabled:t[5],text:"Connect"}}),k.$on("click",t[6]),A=new it({props:{disabled:!t[5],text:"Disconnect"}}),A.$on("click",Pt);let I=t[4]&&Pe(),H=t[5]&&Be(t),q=t[3]&&qe();return{c(){e=w("div"),n=w("aside"),o=w("div"),r=w("div"),tt(c.$$.fragment),s=y(),i=w("h1"),i.textContent="Multiplayer",a=y(),u=w("main"),f=w("div"),d=b("Server Url\r\n            "),$=w("div"),g=w("input"),v=y(),x=w("div"),tt(k.$$.fragment),T=y(),tt(A.$$.fragment),_=y(),I&&I.c(),S=y(),H&&H.c(),E=y(),q&&q.c(),L(i,"class","options-title"),L(r,"class","flex align-items-center gap-20"),L(o,"class","flex flex-direction-column gap-15 pad-20"),L(g,"class","svelte-qcde2c"),L(x,"class","flex gap-15"),L(f,"class","pad-20"),L(e,"class","flex")},m(l,h){m(l,e,h),p(e,n),p(n,o),p(o,r),et(c,r,null),p(r,s),p(r,i),p(e,a),p(e,u),p(u,f),p(f,d),p(f,$),p($,g),M(g,t[1]),p($,v),p($,x),et(k,x,null),p(x,T),et(A,x,null),p(f,_),I&&I.m(f,null),p(f,S),H&&H.m(f,null),p(f,E),q&&q.m(f,null),P=!0,B||(R=[C(g,"input",t[10]),C(g,"keypress",t[11])],B=!0)},p(t,[e]){2&e&&g.value!==t[1]&&M(g,t[1]);const n={};32&e&&(n.disabled=t[5]),k.$set(n);const o={};32&e&&(o.disabled=!t[5]),A.$set(o),t[4]?I||(I=Pe(),I.c(),I.m(f,S)):I&&(I.d(1),I=null),t[5]?H?(H.p(t,e),32&e&&W(H,1)):(H=Be(t),H.c(),W(H,1),H.m(f,E)):H&&(K(),Q(H,1,1,(()=>{H=null})),Z()),t[3]?q?8&e&&W(q,1):(q=qe(),q.c(),W(q,1),q.m(f,null)):q&&(K(),Q(q,1,1,(()=>{q=null})),Z())},i(t){P||(W(c.$$.fragment,t),W(k.$$.fragment,t),W(A.$$.fragment,t),W(H),W(q),P=!0)},o(t){Q(c.$$.fragment,t),Q(k.$$.fragment,t),Q(A.$$.fragment,t),Q(H),Q(q),P=!1},d(t){t&&h(e),nt(c),nt(k),nt(A),I&&I.d(),H&&H.d(),q&&q.d(),B=!1,l(R)}}}function Ue(t,e,n){let o,l,r;u(t,_t,(t=>n(3,o=t))),u(t,St,(t=>n(4,l=t))),u(t,Mt,(t=>n(5,r=t)));let c=!1,s=new URLSearchParams(location.search),i=s.get("pieUrl"),a=s.get("game");function f(){if(i){console.log("Menu: Connect to server",i),g(St,l=!0,l);const t=new URL(location.href);return t.searchParams.set("pieUrl",i),window.history.pushState(null,null,t),window.connect_to_wsPie_server(i).catch(console.error).then(Et)}return Promise.reject("No wsUrl defined to connect to")}function d(){a?window.isConnected()?(console.log("Menu: Connect to game name",a),n(0,c=!0),window.joinRoom({name:a}).then((()=>{const t=new URL(location.href);t.searchParams.set("game",a),window.history.pushState(null,null,t),g(_t,o=!0,o)})).catch((t=>{console.error("Could not join room",t)})).then((()=>{n(0,c=!1)}))):console.error("Cannot join room until pieClient is connected to a pieServer"):console.log("Cannot join game until a gameName is provided")}B((()=>{Et()}));return[c,i,a,o,l,r,f,function(){window.pieLeaveRoom(),g(_t,o=!1,o)},d,()=>{confirm("Are you sure you want to disconnect from this server?")&&Pt().then((()=>{window.goBack()}))},function(){i=this.value,n(1,i)},t=>{"Enter"==t.key&&f()},function(){a=this.value,n(2,a)},t=>{"Enter"==t.key&&d()}]}class De extends rt{constructor(t){super(),lt(this,t,Ue,Oe,c,{})}}function Ge(e){let n,o;return n=new Te({props:{route:!0}}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),o=!0},p:t,i(t){o||(W(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){nt(n,t)}}}function Ne(e){let n,o;return n=new bt({props:{route:!0}}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),o=!0},p:t,i(t){o||(W(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){nt(n,t)}}}function je(e){let n,o;return n=new $t({props:{route:!0}}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),o=!0},p:t,i(t){o||(W(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){nt(n,t)}}}function ze(e){let n,o;return n=new Wt({props:{route:!0}}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),o=!0},p:t,i(t){o||(W(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){nt(n,t)}}}function Ve(e){let n,o;return n=new ke({props:{route:!0}}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),o=!0},p:t,i(t){o||(W(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){nt(n,t)}}}function Fe(e){let n,o;return n=new De({props:{route:!0}}),{c(){tt(n.$$.fragment)},m(t,e){et(n,t,e),o=!0},p:t,i(t){o||(W(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){nt(n,t)}}}function Je(t){let e,n,o,l,r,c,s;return c=new ve({props:{setRoute:t[2],inGame:t[1]}}),{c(){e=w("div"),n=w("div"),o=w("img"),r=y(),tt(c.$$.fragment),L(o,"id","logo"),a(o.src,l="ui/logo.png")||L(o,"src","ui/logo.png"),L(o,"alt","Spellmasons logo"),L(o,"width","800"),L(n,"id","main-menu-inner"),L(e,"id","main-menu")},m(t,l){m(t,e,l),p(e,n),p(n,o),p(n,r),et(c,n,null),s=!0},p(t,e){const n={};2&e&&(n.inGame=t[1]),c.$set(n)},i(t){s||(W(c.$$.fragment,t),s=!0)},o(t){Q(c.$$.fragment,t),s=!1},d(t){t&&h(e),nt(c)}}}function Ye(t){let e,n,o,l,r,c;const s=[Je,Fe,Ve,ze,je,Ne,Ge],i=[];function a(t,e){return t[0]==se?0:t[0]==ie?1:t[0]==le?2:t[0]==oe?3:t[0]==re?4:t[0]==ce?5:"TODO"==t[0]?6:-1}return~(l=a(t))&&(r=i[l]=s[l](t)),{c(){e=w("div"),n=w("div"),o=w("div"),r&&r.c(),L(o,"class","decorative-border"),L(n,"class","full-fill"),L(e,"id","menu")},m(t,r){m(t,e,r),p(e,n),p(n,o),~l&&i[l].m(o,null),c=!0},p(t,[e]){let n=l;l=a(t),l===n?~l&&i[l].p(t,e):(r&&(K(),Q(i[n],1,1,(()=>{i[n]=null})),Z()),~l?(r=i[l],r?r.p(t,e):(r=i[l]=s[l](t),r.c()),W(r,1),r.m(o,null)):r=null)},i(t){c||(W(r),c=!0)},o(t){Q(r),c=!1},d(t){t&&h(e),~l&&i[l].d()}}}function Ke(t){if("Escape"===t.code)goBack()}function Ze(t,e,n){let o,l;console.log("Menu: Svelte menu is running");let r=!1;function c(t){console.log("Menu: Route:",t),o=t===se?se:l,n(0,l=t),window.updateInGameMenuStatus()}return window.updateInGameMenuStatus=()=>{n(1,r=void 0!==window.player)},c(se),window.goBack=function(){c(o)},B((()=>{document.body.addEventListener("keydown",Ke)})),R((()=>{document.body.removeEventListener("keydown",Ke)})),window.setMenu=c,[l,r,c]}return new class extends rt{constructor(t){super(),lt(this,t,Ze,Ye,c,{})}}({target:document.getElementById("menu-app")||document.body,props:{}})}();
//# sourceMappingURL=svelte-bundle.js.map
