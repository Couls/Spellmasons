var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function l(t){t.forEach(n)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c,i;function a(t,e){return c||(c=document.createElement("a")),c.href=e,t===c.href}function u(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function f(t,e,n){t.$$.on_destroy.push(u(e,n))}function d(t,n,o,l){return t[1]&&l?e(o.ctx.slice(),t[1](l(n))):o.ctx}function $(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function g(t,e){const n={};e=new Set(e);for(const o in t)e.has(o)||"$"===o[0]||(n[o]=t[o]);return n}function p(t,e,n){return t.set(n),e}function m(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function w(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function x(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function y(t){return document.createTextNode(t)}function k(){return y(" ")}function C(){return y("")}function T(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function L(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function A(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)null==e[o]?t.removeAttribute(o):"style"===o?t.style.cssText=e[o]:"__value"===o?t.value=t[o]=e[o]:n[o]&&n[o].set?t[o]=e[o]:L(t,o,e[o])}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function S(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function E(t,e,n){t.classList[n?"add":"remove"](e)}function P(t){i=t}function R(){if(!i)throw new Error("Function called outside component initialization");return i}function B(t){R().$$.on_mount.push(t)}function I(t){R().$$.on_destroy.push(t)}function q(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const H=[],O=[],U=[],D=[],G=Promise.resolve();let N=!1;function j(t){U.push(t)}const z=new Set;let V=0;function F(){const t=i;do{for(;V<H.length;){const t=H[V];V++,P(t),J(t.$$)}for(P(null),H.length=0,V=0;O.length;)O.pop()();for(let t=0;t<U.length;t+=1){const e=U[t];z.has(e)||(z.add(e),e())}U.length=0}while(H.length);for(;D.length;)D.pop()();N=!1,z.clear(),P(t)}function J(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}const Y=new Set;let K;function Z(){K={r:0,c:[],p:K}}function W(){K.r||l(K.c),K=K.p}function Q(t,e){t&&t.i&&(Y.delete(t),t.i(e))}function X(t,e,n,o){if(t&&t.o){if(Y.has(t))return;Y.add(t),K.c.push((()=>{Y.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function tt(t,e){const n={},o={},l={$$scope:1};let r=t.length;for(;r--;){const s=t[r],c=e[r];if(c){for(const t in s)t in c||(o[t]=1);for(const t in c)l[t]||(n[t]=c[t],l[t]=1);t[r]=c}else for(const t in s)l[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function et(t){t&&t.c()}function nt(t,e,o,s){const{fragment:c,on_mount:i,on_destroy:a,after_update:u}=t.$$;c&&c.m(e,o),s||j((()=>{const e=i.map(n).filter(r);a?a.push(...e):l(e),t.$$.on_mount=[]})),u.forEach(j)}function ot(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function lt(t,e){-1===t.$$.dirty[0]&&(H.push(t),N||(N=!0,G.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function rt(e,n,r,s,c,a,u,f=[-1]){const d=i;P(e);const $=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:f,skip_bound:!1,root:n.target||d.$$.root};u&&u($.root);let g=!1;if($.ctx=r?r(e,n.props||{},((t,n,...o)=>{const l=o.length?o[0]:n;return $.ctx&&c($.ctx[t],$.ctx[t]=l)&&(!$.skip_bound&&$.bound[t]&&$.bound[t](l),g&&lt(e,t)),n})):[],$.update(),g=!0,l($.before_update),$.fragment=!!s&&s($.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);$.fragment&&$.fragment.l(t),t.forEach(v)}else $.fragment&&$.fragment.c();n.intro&&Q(e.$$.fragment),nt(e,n.target,n.anchor,n.customElement),F()}P(d)}class st{$destroy(){ot(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ct(n){let o,l,r,s,c,i,a=(n[2]?globalThis.i18n(n[0]):n[0])+"",u=[{class:s=`button-wrapper ${n[3]} ${n[1]?"is-active":""}`},n[4]],f={};for(let t=0;t<u.length;t+=1)f=e(f,u[t]);return{c(){o=x("button"),l=x("div"),r=y(a),L(l,"class","button-inner svelte-1qawd2k"),A(o,f),E(o,"svelte-1qawd2k",!0)},m(t,e){h(t,o,e),m(o,l),m(l,r),o.autofocus&&o.focus(),c||(i=T(o,"click",n[5]),c=!0)},p(t,[e]){5&e&&a!==(a=(t[2]?globalThis.i18n(t[0]):t[0])+"")&&M(r,a),A(o,f=tt(u,[10&e&&s!==(s=`button-wrapper ${t[3]} ${t[1]?"is-active":""}`)&&{class:s},16&e&&t[4]])),E(o,"svelte-1qawd2k",!0)},i:t,o:t,d(t){t&&v(o),c=!1,i()}}}function it(t,n,o){const l=["text","isActive","doLocalizeText","class"];let r=g(n,l),{text:s}=n,{isActive:c}=n,{doLocalizeText:i=!0}=n,{class:a=""}=n;return t.$$set=t=>{n=e(e({},n),$(t)),o(4,r=g(n,l)),"text"in t&&o(0,s=t.text),"isActive"in t&&o(1,c=t.isActive),"doLocalizeText"in t&&o(2,i=t.doLocalizeText),"class"in t&&o(3,a=t.class)},[s,c,i,a,r,function(e){q.call(this,t,e)}]}class at extends st{constructor(t){super(),rt(this,t,it,ct,s,{text:0,isActive:1,doLocalizeText:2,class:3})}}function ut(t,e,n){const o=t.slice();return o[2]=e[n][0],o[3]=e[n][1],o[5]=n,o}function ft(e){let n,o,l,r,s,c=e[2]+"",i=e[3]+"";return{c(){n=x("tr"),o=x("td"),l=y(c),r=x("td"),s=y(i)},m(t,e){h(t,n,e),m(n,o),m(o,l),m(n,r),m(r,s)},p:t,d(t){t&&v(n)}}}function dt(t){let e,n,o,l,r,s,c,i,a,u,f;l=new at({props:{type:"button",text:"ðŸ ” Back",class:"sm"}}),l.$on("click",t[1]);let d=t[0],$=[];for(let e=0;e<d.length;e+=1)$[e]=ft(ut(t,d,e));return{c(){e=x("div"),n=x("aside"),o=x("div"),et(l.$$.fragment),r=k(),s=x("span"),s.textContent="Credits",c=k(),i=x("main"),a=x("table"),u=x("tbody");for(let t=0;t<$.length;t+=1)$[t].c();L(o,"class","flex align-items-center gap-15 svelte-5yfd45"),L(n,"class","flex flex-direction-column gap-15"),L(e,"class","flex svelte-5yfd45")},m(t,d){h(t,e,d),m(e,n),m(n,o),nt(l,o,null),m(o,r),m(o,s),m(e,c),m(e,i),m(i,a),m(a,u);for(let t=0;t<$.length;t+=1)$[t].m(u,null);f=!0},p(t,[e]){if(1&e){let n;for(d=t[0],n=0;n<d.length;n+=1){const o=ut(t,d,n);$[n]?$[n].p(o,e):($[n]=ft(o),$[n].c(),$[n].m(u,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=d.length}},i(t){f||(Q(l.$$.fragment,t),f=!0)},o(t){X(l.$$.fragment,t),f=!1},d(t){t&&v(e),ot(l),w($,t)}}}function $t(t){return[[["Jordan O'Leary","Programming, Game Design, and Concept"],["theBlurryBox","Art and Animation"],["Valentin Cochet","@coc_val | Sound Effect Design"],["Jake O'Connell","UI Design | Trailer"],["BananaMilk","Music"],["Lost Lumens, Brad Clark","Audio Mastering"],["Matt Sweda","Concept Ideation Assistance"]],()=>window.goBack()]}class gt extends st{constructor(t){super(),rt(this,t,$t,dt,s,{})}}function pt(n){let o,l,r,s,c,i,u,f,d,$,g,p=[{class:d=`button-wrapper ${n[6]} ${n[4]?"is-active":""}`},n[7]],w={};for(let t=0;t<p.length;t+=1)w=e(w,p[t]);return{c(){o=x("a"),l=x("button"),r=x("div"),s=x("img"),i=k(),u=x("span"),f=y(n[5]),a(s.src,c=n[0])||L(s,"src",c),L(s,"width",n[3]),L(s,"alt",n[1]),L(r,"class","svelte-1c8t67o"),A(l,w),E(l,"svelte-1c8t67o",!0),L(o,"href",n[2])},m(t,e){h(t,o,e),m(o,l),m(l,r),m(r,s),m(r,i),m(r,u),m(u,f),l.autofocus&&l.focus(),$||(g=T(l,"click",n[8]),$=!0)},p(t,[e]){1&e&&!a(s.src,c=t[0])&&L(s,"src",c),8&e&&L(s,"width",t[3]),2&e&&L(s,"alt",t[1]),32&e&&M(f,t[5]),A(l,w=tt(p,[80&e&&d!==(d=`button-wrapper ${t[6]} ${t[4]?"is-active":""}`)&&{class:d},128&e&&t[7]])),E(l,"svelte-1c8t67o",!0),4&e&&L(o,"href",t[2])},i:t,o:t,d(t){t&&v(o),$=!1,g()}}}function mt(t,n,o){const l=["src","alt","href","width","isActive","text","class"];let r=g(n,l),{src:s}=n,{alt:c}=n,{href:i}=n,{width:a}=n,{isActive:u}=n,{text:f=""}=n,{class:d=""}=n;return t.$$set=t=>{n=e(e({},n),$(t)),o(7,r=g(n,l)),"src"in t&&o(0,s=t.src),"alt"in t&&o(1,c=t.alt),"href"in t&&o(2,i=t.href),"width"in t&&o(3,a=t.width),"isActive"in t&&o(4,u=t.isActive),"text"in t&&o(5,f=t.text),"class"in t&&o(6,d=t.class)},[s,c,i,a,u,f,d,r,function(e){q.call(this,t,e)}]}class ht extends st{constructor(t){super(),rt(this,t,mt,pt,s,{src:0,alt:1,href:2,width:3,isActive:4,text:5,class:6})}}function vt(t,e,n){const o=t.slice();return o[2]=e[n],o}function wt(t){let e,n;return e=new at({props:{type:"button",text:t[2]}}),e.$on("click",(function(){return t[1](t[2])})),{c(){et(e.$$.fragment)},m(t,o){nt(e,t,o),n=!0},p(e,n){t=e},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function xt(t){let e,n,o,l,r,s,c,i,a,u,f,d,$,g,p,b,y,C,T,A,M,_,E,P,R,B;r=new at({props:{type:"button",text:"ðŸ ” Back",class:"sm"}}),r.$on("click",t[0]),b=new ht({props:{src:"ui/UI_Bird.png",alt:"Twitter @spellmasons",width:"24px",href:"https://twitter.com/spellmasons",class:"button-wrapper-bg-2",text:"@spellmasons"}}),A=new ht({props:{src:"ui/discord_logo.png",alt:"Spellmasons Discord https://discord.gg/q6sUCreHeJ",width:"24px",href:"https://discord.gg/q6sUCreHeJ",class:"button-wrapper-bg-2",text:"Discord"}});let I=window.explainKeys||[],q=[];for(let e=0;e<I.length;e+=1)q[e]=wt(vt(t,I,e));const H=t=>X(q[t],1,1,(()=>{q[t]=null}));return{c(){e=x("div"),n=x("aside"),o=x("div"),l=x("div"),et(r.$$.fragment),s=k(),c=x("h1"),c.textContent=`${globalThis.i18n("Help")}`,i=k(),a=x("div"),u=k(),f=x("main"),d=x("div"),$=x("div"),g=x("h1"),g.textContent="Contact Me!",p=k(),et(b.$$.fragment),y=k(),C=x("h1"),C.textContent="Join our Discord Community!",T=k(),et(A.$$.fragment),M=k(),_=x("h1"),_.textContent="How to",E=k();for(let t=0;t<q.length;t+=1)q[t].c();P=k(),R=x("div"),L(c,"class","options-title svelte-z08h7l"),L(l,"class","flex align-items-center gap-20"),L(a,"class","flex flex-direction-column gap-15"),L(o,"class","flex flex-direction-column gap-15 pad-20"),L(n,"class","svelte-z08h7l"),L($,"class","pad-20 flex flex-direction-column gap-15 overflowyscroll"),S($,"min-width","300px"),L(R,"id","explain-portal"),L(R,"class","svelte-z08h7l"),L(d,"class","flex gap-15 height100"),L(e,"class","flex height100")},m(t,v){h(t,e,v),m(e,n),m(n,o),m(o,l),nt(r,l,null),m(l,s),m(l,c),m(o,i),m(o,a),m(e,u),m(e,f),m(f,d),m(d,$),m($,g),m($,p),nt(b,$,null),m($,y),m($,C),m($,T),nt(A,$,null),m($,M),m($,_),m($,E);for(let t=0;t<q.length;t+=1)q[t].m($,null);m(d,P),m(d,R),B=!0},p(t,[e]){if(0&e){let n;for(I=window.explainKeys||[],n=0;n<I.length;n+=1){const o=vt(t,I,n);q[n]?(q[n].p(o,e),Q(q[n],1)):(q[n]=wt(o),q[n].c(),Q(q[n],1),q[n].m($,null))}for(Z(),n=I.length;n<q.length;n+=1)H(n);W()}},i(t){if(!B){Q(r.$$.fragment,t),Q(b.$$.fragment,t),Q(A.$$.fragment,t);for(let t=0;t<I.length;t+=1)Q(q[t]);B=!0}},o(t){X(r.$$.fragment,t),X(b.$$.fragment,t),X(A.$$.fragment,t),q=q.filter(Boolean);for(let t=0;t<q.length;t+=1)X(q[t]);B=!1},d(t){t&&v(e),ot(r),ot(b),ot(A),w(q,t)}}}function bt(t){return[()=>window.goBack(),t=>window.menuExplain(t,!0)]}class yt extends st{constructor(t){super(),rt(this,t,bt,xt,s,{})}}function kt(t){let n,o,l,r,s,c;const i=t[4].default,a=function(t,e,n,o){if(t){const l=d(t,e,n,o);return t[0](l)}}(i,t,t[3],null);let u=[{class:l=`button-wrapper ${t[1]} ${t[0]?"is-active":""}`},t[2]],f={};for(let t=0;t<u.length;t+=1)f=e(f,u[t]);return{c(){n=x("button"),o=x("div"),a&&a.c(),L(o,"class","svelte-1k1vcg6"),A(n,f),E(n,"svelte-1k1vcg6",!0)},m(e,l){h(e,n,l),m(n,o),a&&a.m(o,null),n.autofocus&&n.focus(),r=!0,s||(c=T(n,"click",t[5]),s=!0)},p(t,[e]){a&&a.p&&(!r||8&e)&&function(t,e,n,o,l,r){if(l){const s=d(e,n,o,r);t.p(s,l)}}(a,i,t,t[3],r?function(t,e,n,o){if(t[2]&&o){const l=t[2](o(n));if(void 0===e.dirty)return l;if("object"==typeof l){const t=[],n=Math.max(e.dirty.length,l.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|l[o];return t}return e.dirty|l}return e.dirty}(i,t[3],e,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[3]),null),A(n,f=tt(u,[(!r||3&e&&l!==(l=`button-wrapper ${t[1]} ${t[0]?"is-active":""}`))&&{class:l},4&e&&t[2]])),E(n,"svelte-1k1vcg6",!0)},i(t){r||(Q(a,t),r=!0)},o(t){X(a,t),r=!1},d(t){t&&v(n),a&&a.d(t),s=!1,c()}}}function Ct(t,n,o){const l=["isActive","class"];let r=g(n,l),{$$slots:s={},$$scope:c}=n,{isActive:i}=n,{class:a=""}=n;return t.$$set=t=>{n=e(e({},n),$(t)),o(2,r=g(n,l)),"isActive"in t&&o(0,i=t.isActive),"class"in t&&o(1,a=t.class),"$$scope"in t&&o(3,c=t.$$scope)},[i,a,r,c,s,function(e){q.call(this,t,e)}]}class Tt extends st{constructor(t){super(),rt(this,t,Ct,kt,s,{isActive:0,class:1})}}function Lt(e){let n,o,l,r,s,c,i,a,u,f,d,$,g,p,w,x,k,C,T,A;return{c(){n=b("svg"),o=b("title"),l=y("Language / Localization"),r=b("defs"),s=b("style"),c=y(".cls-1 {\r\n                stroke: #231f20;\r\n            }\r\n\r\n            .cls-1,\r\n            .cls-2 {\r\n                fill: none;\r\n                stroke-miterlimit: 10;\r\n            }\r\n\r\n            .cls-2 {\r\n                stroke: #fff;\r\n            }\r\n        "),i=b("g"),a=b("circle"),u=b("path"),f=b("line"),d=b("g"),$=b("path"),g=b("g"),p=b("path"),w=b("g"),x=b("path"),k=b("g"),C=b("path"),T=b("g"),A=b("line"),L(o,"id","title"),L(a,"class","cls-2"),L(a,"cx","32.5"),L(a,"cy","32.5"),L(a,"r","32"),L(u,"class","cls-1"),L(u,"d","M32.5,64.5v0Z"),L(f,"class","cls-2"),L(f,"x1",".5"),L(f,"y1","32.5"),L(f,"x2","64.5"),L(f,"y2","32.5"),L(i,"id","Layer_1"),L(i,"data-name","Layer 1"),L($,"class","cls-2"),L($,"d","M32.5,64.5C-8.55,32.5,32.5,.5,32.5,.5"),L(d,"id","Layer_2"),L(d,"data-name","Layer 2"),L(p,"class","cls-2"),L(p,"d","M32.5,.5s42.98,32,0,64"),L(g,"id","Layer_3"),L(g,"data-name","Layer 3"),L(x,"class","cls-2"),L(x,"d","M11.22,8.49s21.28,13.57,42.6,.15"),L(w,"id","Layer_4"),L(w,"data-name","Layer 4"),L(C,"class","cls-2"),L(C,"d","M11.22,56.56s21.28-13.27,42.6,0"),L(k,"id","Layer_5"),L(k,"data-name","Layer 5"),L(A,"class","cls-2"),L(A,"x1","32.5"),L(A,"y1",".5"),L(A,"x2","32.5"),L(A,"y2","64.5"),L(T,"id","Layer_6"),L(T,"data-name","Layer 6"),L(n,"xmlns","http://www.w3.org/2000/svg"),L(n,"viewBox","-1 0 67 66"),L(n,"labelledby","title"),L(n,"role","img"),L(n,"width","24px"),L(n,"height","24px"),L(n,"class","svelte-1sy6cvw")},m(t,e){h(t,n,e),m(n,o),m(o,l),m(n,r),m(r,s),m(s,c),m(n,i),m(i,a),m(i,u),m(i,f),m(n,d),m(d,$),m(n,g),m(g,p),m(n,w),m(w,x),m(n,k),m(k,C),m(n,T),m(T,A)},p:t,i:t,o:t,d(t){t&&v(n)}}}class At extends st{constructor(t){super(),rt(this,t,null,Lt,s,{})}}const Mt="OPTIONS",_t="LOCALIZATION",St="CREDITS",Et="HELP",Pt="PLAY",Rt="MULTIPLAYER_SERVER_CHOOSER";function Bt(e){let n,o,l,r,s,c,i,a,u,f,d,$,g,p,w,b,y,C,T,A,M,_,S,E,P,R,B,I,q,H,O,U,D,G,N;return{c(){n=x("table"),o=x("tr"),l=x("td"),l.textContent=`${globalThis.i18n("Clear Active Spell")}`,r=k(),s=x("td"),s.innerHTML='<kbd class="hotkey-badge">Esc</kbd>',c=k(),i=x("tr"),a=x("td"),a.textContent=`${globalThis.i18n("Free Look")}`,u=k(),f=x("td"),f.innerHTML='<kbd class="hotkey-badge">W</kbd> \n            <kbd class="hotkey-badge">A</kbd> \n            <kbd class="hotkey-badge">S</kbd> \n            <kbd class="hotkey-badge">D</kbd>\n            or Click and Drag Middle Mouse Button',d=k(),$=x("tr"),g=x("td"),g.textContent=`${globalThis.i18n("Camera Follow Player")}`,p=k(),w=x("td"),w.innerHTML='<kbd class="hotkey-badge">Z</kbd>',b=k(),y=x("tr"),C=x("td"),C.textContent=`${globalThis.i18n("Ping Location")}`,T=k(),A=x("td"),A.innerHTML='<kbd class="hotkey-badge">C</kbd>',M=k(),_=x("tr"),S=x("td"),S.textContent=`${globalThis.i18n("Toggle Menu")}`,E=k(),P=x("td"),P.innerHTML='<kbd class="hotkey-badge">Esc</kbd>',R=k(),B=x("tr"),I=x("td"),I.textContent=`${globalThis.i18n("Inventory")}`,q=k(),H=x("td"),H.innerHTML='<kbd class="hotkey-badge">Tab</kbd>\n            /\n            <kbd class="hotkey-badge">i</kbd>',O=k(),U=x("tr"),D=x("td"),D.textContent=`${globalThis.i18n("View Walk Distance")}`,G=k(),N=x("td"),N.innerHTML='<kbd class="hotkey-badge">f</kbd>',L(i,"id","center-cam-info"),L($,"id","center-cam-tooltip"),L(n,"id","keymapping")},m(t,e){h(t,n,e),m(n,o),m(o,l),m(o,r),m(o,s),m(n,c),m(n,i),m(i,a),m(i,u),m(i,f),m(n,d),m(n,$),m($,g),m($,p),m($,w),m(n,b),m(n,y),m(y,C),m(y,T),m(y,A),m(n,M),m(n,_),m(_,S),m(_,E),m(_,P),m(n,R),m(n,B),m(B,I),m(B,q),m(B,H),m(n,O),m(n,U),m(U,D),m(U,G),m(U,N)},p:t,i:t,o:t,d(t){t&&v(n)}}}class It extends st{constructor(t){super(),rt(this,t,null,Bt,s,{})}}const qt=[];function Ht(e,n=t){let o;const l=new Set;function r(t){if(s(e,t)&&(e=t,o)){const t=!qt.length;for(const t of l)t[1](),qt.push(t,e);if(t){for(let t=0;t<qt.length;t+=2)qt[t][0](qt[t+1]);qt.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(s,c=t){const i=[s,c];return l.add(i),1===l.size&&(o=n(r)||t),s(e),()=>{l.delete(i),0===l.size&&(o(),o=null)}}}}const Ot=Ht(!1),Ut=Ht([]),Dt=Ht(!1),Gt=Ht(!1),Nt=Ht(!1);function jt(){const t=window.isConnected();Dt.set(t),t||Gt.set(!1),Nt.set(!1)}function zt(){return window.pieDisconnect().then(jt)}function Vt(e){let n,o,r,s,c,i,a,u,f,d,$,g;return{c(){n=x("div"),o=x("div"),r=x("label"),r.textContent=`${globalThis.i18n("Player Name")}`,s=k(),c=x("input"),i=k(),a=x("div"),u=x("label"),u.textContent=`${globalThis.i18n("Robe Color")}`,f=k(),d=x("input"),L(r,"for","player-name"),L(c,"type","text"),L(c,"name","player-name"),L(o,"class","flex flex-direction-column gap-15"),L(u,"for","robe"),L(d,"type","color"),L(d,"name","robe"),L(a,"class","flex flex-direction-column gap-15"),L(n,"class","flex gap-15")},m(t,l){h(t,n,l),m(n,o),m(o,r),m(o,s),m(o,c),_(c,e[0]),m(n,i),m(n,a),m(a,u),m(a,f),m(a,d),_(d,e[1]),$||(g=[T(c,"input",e[3]),T(c,"input",e[4]),T(d,"input",e[5]),T(d,"blur",e[6])],$=!0)},p(t,[e]){1&e&&c.value!==t[0]&&_(c,t[0]),2&e&&_(d,t[1])},i:t,o:t,d(t){t&&v(n),$=!1,l(g)}}}function Ft(t,e,n){let o;f(t,Ut,(t=>n(7,o=t)));let l=localStorage.getItem("player-name"),r=`#${parseInt(localStorage.getItem("player-color")).toString(16)}`;function s(t,e){var n;window.configPlayer({color:(n=t,parseInt(n.slice(1),16)),name:e}),p(Ut,o=globalThis.lobbyPlayerList,o)}B((()=>{setTimeout((()=>{s(r,l)}),200)}));return[l,r,s,function(){l=this.value,n(0,l)},()=>{s(r,l)},function(){r=this.value,n(1,r)},()=>{s(r,l)}]}class Jt extends st{constructor(t){super(),rt(this,t,Ft,Vt,s,{})}}function Yt(t){let e,n;return e=new At({}),{c(){et(e.$$.fragment)},m(t,o){nt(e,t,o),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Kt(e){let n,o,l;return o=new at({props:{text:"Toggle FPS / Latency Monitor"}}),o.$on("click",e[11]),{c(){n=x("div"),et(o.$$.fragment)},m(t,e){h(t,n,e),nt(o,n,null),l=!0},p:t,i(t){l||(Q(o.$$.fragment,t),l=!0)},o(t){X(o.$$.fragment,t),l=!1},d(t){t&&v(n),ot(o)}}}function Zt(e){let n,o;return n=new It({}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p:t,i(t){o||(Q(n.$$.fragment,t),o=!0)},o(t){X(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function Wt(e){let n,o;return n=new Jt({}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p:t,i(t){o||(Q(n.$$.fragment,t),o=!0)},o(t){X(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function Qt(e){let n,o,l;return o=new at({props:{text:"Toggle Fullscreen"}}),o.$on("click",e[10]),{c(){n=x("div"),et(o.$$.fragment),L(n,"class","flex flex-direction-column gap-15")},m(t,e){h(t,n,e),nt(o,n,null),l=!0},p:t,i(t){l||(Q(o.$$.fragment,t),l=!0)},o(t){X(o.$$.fragment,t),l=!1},d(t){t&&v(n),ot(o)}}}function Xt(e){let n,o,r,s,c,i,a,u,f,d,$,g,p,w,b=globalThis.i18n("Total Volume")+"",C=globalThis.i18n("Music Volume")+"",A=globalThis.i18n("Sound Effects Volume")+"";return{c(){n=x("div"),o=y(b),r=k(),s=x("input"),c=k(),i=y(C),a=k(),u=x("input"),f=k(),d=y(A),$=k(),g=x("input"),L(s,"type","range"),s.value=100*window.volume,L(s,"min","0"),L(s,"max","100"),L(u,"type","range"),u.value=100*window.volumeMusic,L(u,"min","0"),L(u,"max","100"),L(g,"type","range"),g.value=100*window.volumeGame,L(g,"min","0"),L(g,"max","100"),L(n,"class","flex flex-direction-column gap-15")},m(t,e){h(t,n,e),m(n,o),m(n,r),m(n,s),m(n,c),m(n,i),m(n,a),m(n,u),m(n,f),m(n,d),m(n,$),m(n,g),p||(w=[T(s,"input",se),T(u,"input",ce),T(g,"input",ie)],p=!0)},p:t,i:t,o:t,d(t){t&&v(n),p=!1,l(w)}}}function te(t){let e,n,o,l,r,s,c,i,a,u,f,d,$,g,p,w,b,y,C,T,A,M,_,S,E,P;r=new at({props:{type:"button",text:"ðŸ ” Back",class:"sm"}}),r.$on("click",t[3]),u=new at({props:{isActive:t[1]==le,type:"button",text:"Audio"}}),u.$on("click",t[4]),d=new at({props:{isActive:t[1]==re,type:"button",text:"Video"}}),d.$on("click",t[5]),g=new at({props:{isActive:t[1]==oe,type:"button",text:"Player Configuration"}}),g.$on("click",t[6]),w=new at({props:{isActive:t[1]==ee,type:"button",text:"Controls"}}),w.$on("click",t[7]),y=new at({props:{isActive:t[1]==ne,type:"button",text:"Extras"}}),y.$on("click",t[8]),T=new Tt({props:{class:"button-wrapper-bg-2",$$slots:{default:[Yt]},$$scope:{ctx:t}}}),T.$on("click",t[9]);const R=[Xt,Qt,Wt,Zt,Kt],B=[];function I(t,e){return t[1]==le?0:t[1]==re?1:t[1]==oe?2:t[1]==ee?3:t[1]==ne?4:-1}return~(S=I(t))&&(E=B[S]=R[S](t)),{c(){e=x("div"),n=x("aside"),o=x("div"),l=x("div"),et(r.$$.fragment),s=k(),c=x("h1"),c.textContent=`${globalThis.i18n("Settings")}`,i=k(),a=x("div"),et(u.$$.fragment),f=k(),et(d.$$.fragment),$=k(),et(g.$$.fragment),p=k(),et(w.$$.fragment),b=k(),et(y.$$.fragment),C=k(),et(T.$$.fragment),A=k(),M=x("main"),_=x("div"),E&&E.c(),L(c,"class","options-title svelte-exei4x"),L(l,"class","flex align-items-center gap-20"),L(a,"class","flex flex-direction-column gap-15"),L(o,"class","flex flex-direction-column gap-15 pad-20"),L(n,"class","svelte-exei4x"),L(_,"class","pad-20"),L(e,"class","flex")},m(t,v){h(t,e,v),m(e,n),m(n,o),m(o,l),nt(r,l,null),m(l,s),m(l,c),m(o,i),m(o,a),nt(u,a,null),m(a,f),nt(d,a,null),m(a,$),nt(g,a,null),m(a,p),nt(w,a,null),m(a,b),nt(y,a,null),m(a,C),nt(T,a,null),m(e,A),m(e,M),m(M,_),~S&&B[S].m(_,null),P=!0},p(t,[e]){const n={};2&e&&(n.isActive=t[1]==le),u.$set(n);const o={};2&e&&(o.isActive=t[1]==re),d.$set(o);const l={};2&e&&(l.isActive=t[1]==oe),g.$set(l);const r={};2&e&&(r.isActive=t[1]==ee),w.$set(r);const s={};2&e&&(s.isActive=t[1]==ne),y.$set(s);const c={};4096&e&&(c.$$scope={dirty:e,ctx:t}),T.$set(c);let i=S;S=I(t),S===i?~S&&B[S].p(t,e):(E&&(Z(),X(B[i],1,1,(()=>{B[i]=null})),W()),~S?(E=B[S],E?E.p(t,e):(E=B[S]=R[S](t),E.c()),Q(E,1),E.m(_,null)):E=null)},i(t){P||(Q(r.$$.fragment,t),Q(u.$$.fragment,t),Q(d.$$.fragment,t),Q(g.$$.fragment,t),Q(w.$$.fragment,t),Q(y.$$.fragment,t),Q(T.$$.fragment,t),Q(E),P=!0)},o(t){X(r.$$.fragment,t),X(u.$$.fragment,t),X(d.$$.fragment,t),X(g.$$.fragment,t),X(w.$$.fragment,t),X(y.$$.fragment,t),X(T.$$.fragment,t),X(E),P=!1},d(t){t&&v(e),ot(r),ot(u),ot(d),ot(g),ot(w),ot(y),ot(T),~S&&B[S].d()}}}const ee="KEY_MAPPING",ne="EXTRAS",oe="PLAYER_CONFIG",le="AUDIO",re="VIDEO";function se(t){window.changeVolume(t.target.value/100)}function ce(t){window.changeVolumeMusic(t.target.value/100)}function ie(t){window.changeVolumeGame(t.target.value/100)}function ae(t,e,n){let{setRoute:o}=e,l=le;function r(t){n(1,l=t)}return t.$$set=t=>{"setRoute"in t&&n(0,o=t.setRoute)},[o,l,r,()=>window.goBack(),()=>r(le),()=>r(re),()=>r(oe),()=>r(ee),()=>r(ne),()=>{o(_t)},()=>{document.fullscreenElement?document.exitFullscreen():document.body.requestFullscreen().catch((t=>{console.error(`Error attempting to enable fullscreen mode: ${t.message} (${t.name})`)}))},()=>{window.monitorFPS()}]}class ue extends st{constructor(t){super(),rt(this,t,ae,te,s,{setRoute:0})}}function fe(t){let e,n;return e=new At({}),{c(){et(e.$$.fragment)},m(t,o){nt(e,t,o),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function de(t){let e,n,o,l,r={ctx:t,current:null,token:null,hasCatch:!0,pending:me,then:pe,catch:ge,blocks:[,,,]};return function(t,e){const n=e.token={};function o(t,o,l,r){if(e.token!==n)return;e.resolved=r;let s=e.ctx;void 0!==l&&(s=s.slice(),s[l]=r);const c=t&&(e.current=t)(s);let i=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(Z(),X(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),W())})):e.block.d(1),c.c(),Q(c,1),c.m(e.mount(),e.anchor),i=!0),e.block=c,e.blocks&&(e.blocks[o]=c),i&&F()}if((l=t)&&"object"==typeof l&&"function"==typeof l.then){const n=R();if(t.then((t=>{P(n),o(e.then,1,e.value,t),P(null)}),(t=>{if(P(n),o(e.catch,2,e.error,t),P(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var l}(window.setupPixiPromise,r),{c(){e=x("div"),n=k(),o=C(),r.block.c(),L(e,"id","websocket-pie-connection-status")},m(t,s){h(t,e,s),h(t,n,s),h(t,o,s),r.block.m(t,r.anchor=s),r.mount=()=>o.parentNode,r.anchor=o,l=!0},p(e,n){!function(t,e,n){const o=e.slice(),{resolved:l}=t;t.current===t.then&&(o[t.value]=l),t.current===t.catch&&(o[t.error]=l),t.block.p(o,n)}(r,t=e,n)},i(t){l||(Q(r.block),l=!0)},o(t){for(let t=0;t<3;t+=1){X(r.blocks[t])}l=!1},d(t){t&&v(e),t&&v(n),t&&v(o),r.block.d(t),r.token=null,r=null}}}function $e(e){let n,o,l,r,s,c,i;return o=new at({props:{text:"Resume Game"}}),o.$on("click",ve),r=new at({props:{text:"Settings"}}),r.$on("click",e[8]),c=new at({props:{text:"Quit to Main Menu"}}),c.$on("click",e[4]),{c(){n=x("div"),et(o.$$.fragment),l=k(),et(r.$$.fragment),s=k(),et(c.$$.fragment),L(n,"class","list svelte-g9yx2d")},m(t,e){h(t,n,e),nt(o,n,null),m(n,l),nt(r,n,null),m(n,s),nt(c,n,null),i=!0},p:t,i(t){i||(Q(o.$$.fragment,t),Q(r.$$.fragment,t),Q(c.$$.fragment,t),i=!0)},o(t){X(o.$$.fragment,t),X(r.$$.fragment,t),X(c.$$.fragment,t),i=!1},d(t){t&&v(n),ot(o),ot(r),ot(c)}}}function ge(e){let n;return{c(){n=x("p"),n.textContent="Something went wrong loading assets",S(n,"color","red")},m(t,e){h(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function pe(e){let n,o,l,r,s,c,i,a,u;return o=new at({props:{text:"New Run"}}),o.$on("click",e[2]),r=new at({props:{text:"Multiplayer"}}),r.$on("click",e[3]),c=new at({props:{text:"Settings"}}),c.$on("click",e[9]),{c(){n=x("div"),et(o.$$.fragment),l=k(),et(r.$$.fragment),s=k(),et(c.$$.fragment),i=k(),a=x("br"),L(n,"class","list svelte-g9yx2d")},m(t,e){h(t,n,e),nt(o,n,null),m(n,l),nt(r,n,null),m(n,s),nt(c,n,null),h(t,i,e),h(t,a,e),u=!0},p:t,i(t){u||(Q(o.$$.fragment,t),Q(r.$$.fragment,t),Q(c.$$.fragment,t),u=!0)},o(t){X(o.$$.fragment,t),X(r.$$.fragment,t),X(c.$$.fragment,t),u=!1},d(t){t&&v(n),ot(o),ot(r),ot(c),t&&v(i),t&&v(a)}}}function me(e){let n;return{c(){n=y("loading assets...")},m(t,e){h(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function he(t){let e,n,o,l,r,s,c,i,a,u,f,d,$,g,p,w,b;n=new at({props:{text:"Help"}}),n.$on("click",t[5]),r=new at({props:{text:"Credits"}}),r.$on("click",t[6]),i=new ht({props:{src:"ui/UI_Bird.png",alt:"Twitter @spellmasons",width:"24px",href:"https://twitter.com/spellmasons",class:"button-wrapper-bg-2"}}),u=new ht({props:{src:"ui/discord_logo.png",alt:"Spellmasons Discord https://discord.gg/q6sUCreHeJ",width:"24px",href:"https://discord.gg/q6sUCreHeJ",class:"button-wrapper-bg-2"}}),d=new Tt({props:{class:"button-wrapper-bg-2",$$slots:{default:[fe]},$$scope:{ctx:t}}}),d.$on("click",t[7]);const y=[$e,de],T=[];function A(t,e){return t[1]?0:1}return g=A(t),p=T[g]=y[g](t),{c(){e=x("div"),et(n.$$.fragment),o=k(),l=x("div"),et(r.$$.fragment),s=k(),c=x("div"),et(i.$$.fragment),a=k(),et(u.$$.fragment),f=k(),et(d.$$.fragment),$=k(),p.c(),w=C(),L(e,"id","corner-left"),L(e,"class","flex gap svelte-g9yx2d"),S(e,"flex-direction","column"),L(c,"class","flex gap svelte-g9yx2d"),L(l,"id","corner"),L(l,"class","flex gap svelte-g9yx2d"),S(l,"flex-direction","column")},m(t,p){h(t,e,p),nt(n,e,null),h(t,o,p),h(t,l,p),nt(r,l,null),m(l,s),m(l,c),nt(i,c,null),m(c,a),nt(u,c,null),m(c,f),nt(d,c,null),h(t,$,p),T[g].m(t,p),h(t,w,p),b=!0},p(t,[e]){const n={};2048&e&&(n.$$scope={dirty:e,ctx:t}),d.$set(n);let o=g;g=A(t),g===o?T[g].p(t,e):(Z(),X(T[o],1,1,(()=>{T[o]=null})),W(),p=T[g],p?p.p(t,e):(p=T[g]=y[g](t),p.c()),Q(p,1),p.m(w.parentNode,w))},i(t){b||(Q(n.$$.fragment,t),Q(r.$$.fragment,t),Q(i.$$.fragment,t),Q(u.$$.fragment,t),Q(d.$$.fragment,t),Q(p),b=!0)},o(t){X(n.$$.fragment,t),X(r.$$.fragment,t),X(i.$$.fragment,t),X(u.$$.fragment,t),X(d.$$.fragment,t),X(p),b=!1},d(t){t&&v(e),ot(n),t&&v(o),t&&v(l),ot(r),ot(i),ot(u),ot(d),t&&v($),T[g].d(t),t&&v(w)}}}function ve(){window.closeMenu()}function we(t,e,n){let o;f(t,Ot,(t=>n(10,o=t)));let{setRoute:l}=e,{inGame:r}=e;return t.$$set=t=>{"setRoute"in t&&n(0,l=t.setRoute),"inGame"in t&&n(1,r=t.inGame)},[l,r,function(){window.playMusic(),p(Ot,o=!0,o),window.startSingleplayer().then((()=>{jt()}))},function(){window.playMusic(),o&&zt(),p(Ot,o=!1,o),l(Rt)},function(){if(confirm("Are you sure you want to quit to Main Menu?")){const t=new URL(location.href);t.searchParams.delete("game"),t.searchParams.delete("pieUrl"),window.history.pushState(null,null,t),window.exitCurrentGame().then(jt)}},()=>l(Et),()=>l(St),()=>{l(_t)},()=>l(Mt),()=>l(Mt)]}class xe extends st{constructor(t){super(),rt(this,t,we,he,s,{setRoute:0,inGame:1})}}function be(t,e,n){const o=t.slice();return o[4]=e[n].language,o[5]=e[n].code,o[7]=n,o}function ye(t){let e,n;return e=new at({props:{text:t[4],isActive:t[1]==t[5],doLocalizeText:!1}}),e.$on("click",(function(){return t[3](t[5])})),{c(){et(e.$$.fragment)},m(t,o){nt(e,t,o),n=!0},p(n,o){t=n;const l={};2&o&&(l.isActive=t[1]==t[5]),e.$set(l)},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function ke(t){let e,n,o,l,r,s,c,i,a,u,f;r=new at({props:{type:"button",text:"ðŸ ” Back",class:"sm"}}),r.$on("click",t[2]);let d=t[0],$=[];for(let e=0;e<d.length;e+=1)$[e]=ye(be(t,d,e));const g=t=>X($[t],1,1,(()=>{$[t]=null}));return{c(){e=x("div"),n=x("aside"),o=x("div"),l=x("div"),et(r.$$.fragment),s=k(),c=x("h1"),c.textContent=`${globalThis.i18n("Localization")}`,i=k(),a=x("main"),u=x("div");for(let t=0;t<$.length;t+=1)$[t].c();L(c,"class","options-title svelte-exei4x"),L(l,"class","flex align-items-center gap-20"),L(o,"class","flex flex-direction-column gap-15 pad-20"),L(n,"class","svelte-exei4x"),L(u,"class","pad-20 flex flex-direction-column gap-15"),L(e,"class","flex")},m(t,d){h(t,e,d),m(e,n),m(n,o),m(o,l),nt(r,l,null),m(l,s),m(l,c),m(e,i),m(e,a),m(a,u);for(let t=0;t<$.length;t+=1)$[t].m(u,null);f=!0},p(t,[e]){if(3&e){let n;for(d=t[0],n=0;n<d.length;n+=1){const o=be(t,d,n);$[n]?($[n].p(o,e),Q($[n],1)):($[n]=ye(o),$[n].c(),Q($[n],1),$[n].m(u,null))}for(Z(),n=d.length;n<$.length;n+=1)g(n);W()}},i(t){if(!f){Q(r.$$.fragment,t);for(let t=0;t<d.length;t+=1)Q($[t]);f=!0}},o(t){X(r.$$.fragment,t),$=$.filter(Boolean);for(let t=0;t<$.length;t+=1)X($[t]);f=!1},d(t){t&&v(e),ot(r),w($,t)}}}function Ce(t,e,n){const o=globalThis.getSupportedLanguages();let l=globalThis.getChosenLanguageCode();return[o,l,()=>window.goBack(),t=>{globalThis.setLanguage(t,!0),n(1,l=t),window.goBack()}]}class Te extends st{constructor(t){super(),rt(this,t,Ce,ke,s,{languages:0})}get languages(){return this.$$.ctx[0]}}function Le(e){let n,o,l,r;return l=new at({props:{type:"button",text:"ðŸ ” Back",class:"sm"}}),l.$on("click",e[0]),{c(){n=x("h1"),n.textContent="This page is still being built",o=k(),et(l.$$.fragment),L(n,"class","svelte-1n2jha3")},m(t,e){h(t,n,e),h(t,o,e),nt(l,t,e),r=!0},p:t,i(t){r||(Q(l.$$.fragment,t),r=!0)},o(t){X(l.$$.fragment,t),r=!1},d(t){t&&v(n),t&&v(o),ot(l,t)}}}function Ae(t){return[()=>window.goBack()]}class Me extends st{constructor(t){super(),rt(this,t,Ae,Le,s,{})}}function _e(t,e,n){const o=t.slice();return o[3]=e[n].name,o[4]=e[n].status,o[5]=e[n].color,o[6]=e[n].ready,o}function Se(t){let e,n,o,l,r,s,c,i,a,u,f,d,$,g=t[3]+"",p=t[4]+"",w=t[6]+"";return{c(){e=x("tr"),n=x("td"),o=y(g),l=k(),r=x("td"),s=y(p),c=k(),i=x("td"),u=k(),f=x("td"),d=y(w),$=k(),L(i,"class","lobby-player-color svelte-g23pjw"),L(i,"style",a=`background-color:${t[5]};`)},m(t,a){h(t,e,a),m(e,n),m(n,o),m(e,l),m(e,r),m(r,s),m(e,c),m(e,i),m(e,u),m(e,f),m(f,d),m(e,$)},p(t,e){1&e&&g!==(g=t[3]+"")&&M(o,g),1&e&&p!==(p=t[4]+"")&&M(s,p),1&e&&a!==(a=`background-color:${t[5]};`)&&L(i,"style",a),1&e&&w!==(w=t[6]+"")&&M(d,w)},d(t){t&&v(e)}}}function Ee(t){let e,n,o,l,r,s,c,i,a,u,f;o=new Jt({}),r=new at({props:{type:"button",text:"Ready",class:"sm"}}),r.$on("click",t[1]);let d=t[0],$=[];for(let e=0;e<d.length;e+=1)$[e]=Se(_e(t,d,e));return{c(){e=x("h1"),e.textContent=`${globalThis.i18n("Game Lobby")}`,n=k(),et(o.$$.fragment),l=k(),et(r.$$.fragment),s=k(),c=x("table"),i=x("thead"),i.innerHTML="<tr></tr>",a=k(),u=x("tbody");for(let t=0;t<$.length;t+=1)$[t].c();L(c,"id","lobby-player-list"),L(c,"class","svelte-g23pjw")},m(t,d){h(t,e,d),h(t,n,d),nt(o,t,d),h(t,l,d),nt(r,t,d),h(t,s,d),h(t,c,d),m(c,i),m(c,a),m(c,u);for(let t=0;t<$.length;t+=1)$[t].m(u,null);f=!0},p(t,[e]){if(1&e){let n;for(d=t[0],n=0;n<d.length;n+=1){const o=_e(t,d,n);$[n]?$[n].p(o,e):($[n]=Se(o),$[n].c(),$[n].m(u,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=d.length}},i(t){f||(Q(o.$$.fragment,t),Q(r.$$.fragment,t),f=!0)},o(t){X(o.$$.fragment,t),X(r.$$.fragment,t),f=!1},d(t){t&&v(e),t&&v(n),ot(o,t),t&&v(l),ot(r,t),t&&v(s),t&&v(c),w($,t)}}}function Pe(t,e,n){let o;f(t,Ut,(t=>n(0,o=t))),B((()=>{setInterval((()=>{p(Ut,o=globalThis.lobbyPlayerList,o)}),500)})),I((()=>{clearInterval(undefined)}));return[o,()=>{globalThis.configPlayer({lobbyReady:!0})}]}class Re extends st{constructor(t){super(),rt(this,t,Pe,Ee,s,{})}}function Be(t){let e,n;return{c(){e=y("Connecting...\r\n                "),n=x("div"),n.innerHTML='<div class="svelte-qcde2c"></div> \n                    <div class="svelte-qcde2c"></div> \n                    <div class="svelte-qcde2c"></div> \n                    <div class="svelte-qcde2c"></div>',L(n,"class","lds-ellipsis svelte-qcde2c")},m(t,o){h(t,e,o),h(t,n,o)},d(t){t&&v(e),t&&v(n)}}}function Ie(t){let e,n,o,r,s,c,i,a,u,f;const d=[Oe,He,qe],$=[];function g(t,e){return t[0]?0:t[3]?1:2}return s=g(t),c=$[s]=d[s](t),{c(){e=x("p"),e.textContent=`${globalThis.i18n("Game name")}`,n=k(),o=x("input"),r=k(),c.c(),i=C(),L(o,"class","svelte-qcde2c")},m(l,c){h(l,e,c),h(l,n,c),h(l,o,c),_(o,t[2]),h(l,r,c),$[s].m(l,c),h(l,i,c),a=!0,u||(f=[T(o,"input",t[12]),T(o,"keypress",t[13])],u=!0)},p(t,e){4&e&&o.value!==t[2]&&_(o,t[2]);let n=s;s=g(t),s===n?$[s].p(t,e):(Z(),X($[n],1,1,(()=>{$[n]=null})),W(),c=$[s],c?c.p(t,e):(c=$[s]=d[s](t),c.c()),Q(c,1),c.m(i.parentNode,i))},i(t){a||(Q(c),a=!0)},o(t){X(c),a=!1},d(t){t&&v(e),t&&v(n),t&&v(o),t&&v(r),$[s].d(t),t&&v(i),u=!1,l(f)}}}function qe(e){let n,o,l,r,s;return o=new at({props:{text:"Host"}}),o.$on("click",e[8]),r=new at({props:{text:"Join"}}),r.$on("click",e[8]),{c(){n=x("div"),et(o.$$.fragment),l=k(),et(r.$$.fragment),L(n,"class","flex gap-15")},m(t,e){h(t,n,e),nt(o,n,null),m(n,l),nt(r,n,null),s=!0},p:t,i(t){s||(Q(o.$$.fragment,t),Q(r.$$.fragment,t),s=!0)},o(t){X(o.$$.fragment,t),X(r.$$.fragment,t),s=!1},d(t){t&&v(n),ot(o),ot(r)}}}function He(e){let n,o;return n=new at({props:{text:"Leave Room"}}),n.$on("click",e[7]),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p:t,i(t){o||(Q(n.$$.fragment,t),o=!0)},o(t){X(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function Oe(e){let n,o;return{c(){n=y("Joining...\r\n                    "),o=x("div"),o.innerHTML='<div class="svelte-qcde2c"></div> \n                        <div class="svelte-qcde2c"></div> \n                        <div class="svelte-qcde2c"></div> \n                        <div class="svelte-qcde2c"></div>',L(o,"class","lds-ellipsis svelte-qcde2c")},m(t,e){h(t,n,e),h(t,o,e)},p:t,i:t,o:t,d(t){t&&v(n),t&&v(o)}}}function Ue(t){let e,n;return e=new Re({}),{c(){et(e.$$.fragment)},m(t,o){nt(e,t,o),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function De(t){let e,n,o,r,s,c,i,a,u,f,d,$,g,p,w,b,C,A,M,E,P,R,B,I,q,H=globalThis.i18n("Server Url")+"";s=new at({props:{type:"button",text:"ðŸ ” Back",class:"sm"}}),s.$on("click",t[9]),C=new at({props:{disabled:t[5],text:"Connect"}}),C.$on("click",t[6]),M=new at({props:{disabled:!t[5],text:"Disconnect"}}),M.$on("click",zt);let O=t[4]&&Be(),U=t[5]&&Ie(t),D=t[3]&&Ue();return{c(){e=x("div"),n=x("aside"),o=x("div"),r=x("div"),et(s.$$.fragment),c=k(),i=x("h1"),i.textContent=`${globalThis.i18n("Multiplayer")}`,a=k(),u=x("main"),f=x("div"),d=y(H),$=k(),g=x("div"),p=x("input"),w=k(),b=x("div"),et(C.$$.fragment),A=k(),et(M.$$.fragment),E=k(),O&&O.c(),P=k(),U&&U.c(),R=k(),D&&D.c(),L(i,"class","options-title"),L(r,"class","flex align-items-center gap-20"),L(o,"class","flex flex-direction-column gap-15 pad-20"),L(p,"class","svelte-qcde2c"),L(b,"class","flex gap-15"),L(f,"class","pad-20"),S(f,"min-width","400px"),L(e,"class","flex")},m(l,v){h(l,e,v),m(e,n),m(n,o),m(o,r),nt(s,r,null),m(r,c),m(r,i),m(e,a),m(e,u),m(u,f),m(f,d),m(f,$),m(f,g),m(g,p),_(p,t[1]),m(g,w),m(g,b),nt(C,b,null),m(b,A),nt(M,b,null),m(f,E),O&&O.m(f,null),m(f,P),U&&U.m(f,null),m(f,R),D&&D.m(f,null),B=!0,I||(q=[T(p,"input",t[10]),T(p,"keypress",t[11])],I=!0)},p(t,[e]){2&e&&p.value!==t[1]&&_(p,t[1]);const n={};32&e&&(n.disabled=t[5]),C.$set(n);const o={};32&e&&(o.disabled=!t[5]),M.$set(o),t[4]?O||(O=Be(),O.c(),O.m(f,P)):O&&(O.d(1),O=null),t[5]?U?(U.p(t,e),32&e&&Q(U,1)):(U=Ie(t),U.c(),Q(U,1),U.m(f,R)):U&&(Z(),X(U,1,1,(()=>{U=null})),W()),t[3]?D?8&e&&Q(D,1):(D=Ue(),D.c(),Q(D,1),D.m(f,null)):D&&(Z(),X(D,1,1,(()=>{D=null})),W())},i(t){B||(Q(s.$$.fragment,t),Q(C.$$.fragment,t),Q(M.$$.fragment,t),Q(U),Q(D),B=!0)},o(t){X(s.$$.fragment,t),X(C.$$.fragment,t),X(M.$$.fragment,t),X(U),X(D),B=!1},d(t){t&&v(e),ot(s),ot(C),ot(M),O&&O.d(),U&&U.d(),D&&D.d(),I=!1,l(q)}}}function Ge(t,e,n){let o,l,r;f(t,Gt,(t=>n(3,o=t))),f(t,Nt,(t=>n(4,l=t))),f(t,Dt,(t=>n(5,r=t)));let s=!1,c=new URLSearchParams(location.search),i=c.get("pieUrl"),a=c.get("game");function d(){if(i){console.log("Menu: Connect to server",i),p(Nt,l=!0,l);const t=new URL(location.href);return t.searchParams.set("pieUrl",i),window.history.pushState(null,null,t),window.connect_to_wsPie_server(i).catch(console.error).then(jt)}return Promise.reject("No wsUrl defined to connect to")}function $(){a?window.isConnected()?(console.log("Menu: Connect to game name",a),n(0,s=!0),window.joinRoom({name:a}).then((()=>{const t=new URL(location.href);t.searchParams.set("game",a),window.history.pushState(null,null,t),p(Gt,o=!0,o)})).catch((t=>{console.error("Could not join room",t)})).then((()=>{n(0,s=!1)}))):console.error("Cannot join room until pieClient is connected to a pieServer"):console.log("Cannot join game until a gameName is provided")}B((()=>{jt()}));return[s,i,a,o,l,r,d,function(){window.pieLeaveRoom(),p(Gt,o=!1,o)},$,()=>{(!function(t){let e;return u(t,(t=>e=t))(),e}(Dt)||confirm(globalThis.i18n("Are you sure you want to disconnect from this server?")))&&zt().then((()=>{window.goBack()}))},function(){i=this.value,n(1,i)},t=>{"Enter"==t.key&&d()},function(){a=this.value,n(2,a)},t=>{"Enter"==t.key&&$()}]}class Ne extends st{constructor(t){super(),rt(this,t,Ge,De,s,{})}}function je(e){let n,o;return n=new Me({props:{route:!0}}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p:t,i(t){o||(Q(n.$$.fragment,t),o=!0)},o(t){X(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function ze(e){let n,o;return n=new yt({props:{route:!0}}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p:t,i(t){o||(Q(n.$$.fragment,t),o=!0)},o(t){X(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function Ve(e){let n,o;return n=new gt({props:{route:!0}}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p:t,i(t){o||(Q(n.$$.fragment,t),o=!0)},o(t){X(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function Fe(e){let n,o;return n=new ue({props:{route:!0,setRoute:e[2]}}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p:t,i(t){o||(Q(n.$$.fragment,t),o=!0)},o(t){X(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function Je(e){let n,o;return n=new Te({props:{route:!0}}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p:t,i(t){o||(Q(n.$$.fragment,t),o=!0)},o(t){X(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function Ye(e){let n,o;return n=new Ne({props:{route:!0}}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p:t,i(t){o||(Q(n.$$.fragment,t),o=!0)},o(t){X(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function Ke(t){let e,n,o,l,r,s,c;return s=new xe({props:{setRoute:t[2],inGame:t[1]}}),{c(){e=x("div"),n=x("div"),o=x("img"),r=k(),et(s.$$.fragment),L(o,"id","logo"),a(o.src,l="ui/logo.png")||L(o,"src","ui/logo.png"),L(o,"alt","Spellmasons logo"),L(o,"width","800"),L(n,"id","main-menu-inner"),L(e,"id","main-menu")},m(t,l){h(t,e,l),m(e,n),m(n,o),m(n,r),nt(s,n,null),c=!0},p(t,e){const n={};2&e&&(n.inGame=t[1]),s.$set(n)},i(t){c||(Q(s.$$.fragment,t),c=!0)},o(t){X(s.$$.fragment,t),c=!1},d(t){t&&v(e),ot(s)}}}function Ze(t){let e,n,o,l,r,s;const c=[Ke,Ye,Je,Fe,Ve,ze,je],i=[];function a(t,e){return t[0]==Pt?0:t[0]==Rt?1:t[0]==_t?2:t[0]==Mt?3:t[0]==St?4:t[0]==Et?5:"TODO"==t[0]?6:-1}return~(l=a(t))&&(r=i[l]=c[l](t)),{c(){e=x("div"),n=x("div"),o=x("div"),r&&r.c(),L(o,"class","decorative-border"),L(n,"class","full-fill"),L(e,"id","menu")},m(t,r){h(t,e,r),m(e,n),m(n,o),~l&&i[l].m(o,null),s=!0},p(t,[e]){let n=l;l=a(t),l===n?~l&&i[l].p(t,e):(r&&(Z(),X(i[n],1,1,(()=>{i[n]=null})),W()),~l?(r=i[l],r?r.p(t,e):(r=i[l]=c[l](t),r.c()),Q(r,1),r.m(o,null)):r=null)},i(t){s||(Q(r),s=!0)},o(t){X(r),s=!1},d(t){t&&v(e),~l&&i[l].d()}}}function We(t){if("Escape"===t.code)goBack()}function Qe(t,e,n){let o;console.log("Menu: Svelte menu is running");let l=!1;function r(t){console.log("Menu: Route:",t),n(0,o=t),window.updateInGameMenuStatus()}return window.updateInGameMenuStatus=()=>{n(1,l=void 0!==window.player)},r(Pt),window.goBack=function(){r(Pt)},B((()=>{document.body.addEventListener("keydown",We)})),I((()=>{document.body.removeEventListener("keydown",We)})),window.setMenu=r,[o,l,r]}return new class extends st{constructor(t){super(),rt(this,t,Qe,Ze,s,{})}}({target:document.getElementById("menu-app")||document.body,props:{}})}();
//# sourceMappingURL=svelte-bundle.js.map
