- there is a circumstance in multiplayer where a player's upgradeslefttochoose is 3 but they don't see the popup (happens in local)
## Brad playtest
- If you are changing your name and you exit the menu with esc it doesn't save the name
- Don't play turn end sound fx if you've already ended yoru turn
- if you are self targeting when you end your turn, all the cast predictions and the self targeting warrning stay up while AI takes their turn
- he likes having his name above his head even in singleplayer
- bug: after dying, quitting to main menu and starting new run, Brad kept his old spells
- shield should show on your healthbar
- bug: he got "invalid target" when trying to cast on the top of a wall but he was using "expand" so it shoul've been valid cause there were targets in the radius
- How do i inspect things when I'm in spawn mode
- mana burn shouldn't animate on guys without mana
- trap radius too big
- when someone else swaps with you should it move camera?
- I can see him at 0,0 when he's choosing spawn and if he queues up a spwll it draws the green line
- "targeting self" comes up when using steal mana which is true but confusing
- multiplayer bug where it made a new level twice, see video
- brad has two poisons on his spellbar
- pull UI was left up when he sent the message while I was on another screen and I came back to it 
- when portals spawned on us both we didn't get the spell pickup
- brad can't see if his spells will kill enemies until my spell completes
- Game ending bug: When portals spawned I went to 0,0 and now I can't go through a portal so it won't end
- idea: give mana to ally spell
- need a boss  that does AOE damage
## Tasks 
- bug: arrow sticking in a person animation can be backwards
- Improve out of range targeting: if any part of a unit is in range, then targeting it must be allowed
---
- Standalone server backlog
    - When does stand alone server remove a room?
        - it appears that when all players leave, if one rejoins it's a new game
- Record yourself playing with split audio for trailer
    - make sure you disable the partial UI
- decrease player unit move speed?
## Low hanging fruit
- small bugs:
    - Sometimes it tries to path around things and wastes stamina if there isn't a straight line path
    - when your main mana bar has 0 mana left it doesn't show the diagonal lines
    - if you pull something into you and you're standing on the edge of liquid you take damage as if you fell in the liquid (on blood level)
    - sometimes when you walk you get stuck on a wall and it wastes stamina
# Bugs
- push bloat hurt prediction resulted in weird prediction lines
- Permanently fix liquid
    - weird liquid : 0.5211362200270263
- chain through pickups?
- fix AOE
## Tasks
- Need UI sound interactions
    - Think of warcraft 3 frozen throne
    - **not** for hover states
    - button clicks
    - left click
    - spells
    - book opening for inventory
    - a "you died" (gta wasted)
    - quieter end turn in multiplayer
    - sounds that lets you know everyone is waiting on you
    - warnings: out of stamina, no target, out of range (see breath of the wild)
    - missing sfx for vulnerable/debilitate
    - summoner cast sfx
    - missing vampire hurt noise (when you push them into lava)
- Feature: perks
- Feature: "Soul bind" - bound units share applied effects
    - Use PIXI.SimpleRope https://pixijs.download/dev/docs/PIXI.SimpleRope.html
- use card background for upgrades with different colors depending on rarity
- rework expand, it's predictions are often way off.  Maybe it would do better to just increase the radius of all spells?
- art: Spell Modifier effects visual representation to stay on units
    - debilitate
    - blood curse
- If player joins mid enemy movement it will force reset them
- on refresh (with only 1 client in room) the server reseeded level but my position stayed the same
- rework exp
- bug: when i quit a game and start over it gives me the resurrect optoin
    - or it maintains some state, like all the spells in my inventory
- Ensure hurt is presented in first spell picks
- game slows down when there's a lot of blood on the screen and it's painint more
- How does endgame scale now that strength doesn't depend on the levelIndex?

## Stretch Content
- Idea: "overwatch" where some archers can shoot even not on their turn if you walk in their LOS
- Upgrade: Start each level with 2x mana overfill (think of new upgrade "perks")
- What if potions drop from slain enemies instead of being just pickups on the ground, it would be more exciting if you needed one and it dropped.
- Task: An ally that has died at all (even if ressed) should lose their upgrade priviledge
- whole bodies of liquid should be selectable so that they can be frozen
    - freezable liquid to walk over
- Cannot be combined with other spells
    - Jump card- to jump over walls
    - card to temporarily increase cast range
- vortex card - to pull units in to a center location
- Content: Time crystal releases something when it breaks
- Content: An enemy that pulls you into danger
    - a blue poisoner
- Content: "Orge" enemies that get stronger for every ally of theirs that dies
- An enemy that consumes allies to get stronger
- Specific barriers or walls that can't be cast through
- Content: A spell to destroy corpses
- task: Spell to trade mana for stamina
- idea; one use bargains (deals with the devil) that mix up your max stats.  or have a50% chance of good or bad outcome
- Leave blood trails behind for dead units that are force pushed
- Card: An attack range minimum but not a maximum so you CAN"T attack if they are too close
- Casting curses on liquid should change the liquid type (lava/hurt, purify/water, poison)
- More "Quantity" implementations for spells beyond hurt
- Spell: grappling hook (pulls your towards something)
- Change AOE behavior so that it just expands radius
    - This radius expansion should work for ANY spell that uses a radius: vortex, bloat, chain, etc
    - Maybe it only modifies the spell directly after it
- Spell: Range, like aoe and chain but extends your range


## Misc
- **critical** Improve sending castCards with targeting based on id not position
- (wont do?) Make an overlay screen that blocks interaction while waiting for sync
- Unit movement desync occurred between clients when one client has CPU throttled, the non throttled client has the unit move much farther