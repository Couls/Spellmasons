- IMPORTANT: Fix music only coming out of one channel
- Make UI buttons on modals to match Jake's design 
- blood golem / blood archer / green glop / ghost archer / sand vamp explain is a broken image
- Way to control Ally faction units, like follow me. Or go get them.
- Need something to protect like the towers in into the breach, something to draw you out and make you take risks
- Game is too easy right now, I think due to the perks
- lava abyss color is off

# PreRelease Top Priorities
- Balanced / Difficult
- Level Variety (not too samey)
    - 2nd style level generator (close quarters)
    - Improved enemy units spawn combinations
- Boss
- Looping
- Server config by host (pvp, worms armageddon style customizations)
- Unit improvements to increase difficulty
    - Summoner should summon in random locations
    - Priest should resurrect or teleport allies
# Desired Schedule
- December
        - Make server version update whenvever the assets subdomain updates
        - [Submit demo to IGN](https://corp.ign.com/submit-a-game)
    - Week of 12/19-12/23
        - Support hosting a server from in the game exe
        - Satisfying end game (boss unit needed like the literal throne in Nuclear Throne)
            - Maybe don't introduce only one new unit each level, think of how Nuclear Throne does mini bosses
            - Obvious looping, maybe tint levels or something
            - tint levels just like enemies when looping??
                - See branch `loop-tint-level`
            - atmospheric effects like dust?
            - Nice camera
                - exciting akira moment
                - Cinematic boss intro
        - Update music so it only changes song group once you reach a new biome
            - and so it will continue a song if the next level is in the same biome
- January
    - Features / Content
        - Icons for perks
        - Server Browser
        - Balance Perks
    - Publicity
        - Use Steamworks "Currator Connect" Tool
    - Build tasks
        - Accessability / Localization Language Support / Spellcheck
        - Establish Minimum System Requirements and update Steam Page
        - build: remove unneeded nuget package from build output?
            - Can't remove, it is the update file https://github.com/vercel/hazel#updatewin32versionreleases
            - Maybe I can remove it if I don't use the built-in update
        - Squirrel Tasks
            - Ensure 'electron-squirrel-startup' is handled correctly
            - Ensure start app isn't added to desktop
        - Electron Security
        - Verify Cloud Saves
    - Add sentry errors to electron node files
    - Final QA
        - Manually test all spells for desync issues (in multiplayer)
        - Bulletproof Updating and Error Reporting
    - Remove "Beta" Near version number
    - Release

- Make all perks stackable
- make music play in menu
    
- Short circuit expensive runPredictions
    - Any way to make many forceMoves run asyncronously?
- Exe optimized for updates & modding?
- Dynamic difficulty?
    - Allow spawning enemies sooner based on lifetime performance?
- "How To" guides
- Add codex where you can read about spells and enemies
- Allow opening dev tools in exe
# Critical Path
- Milestone | **Finish Gameplay**
    - End of game scaling
        - boss
        - unlocks
    - More Perks / Balance perks
    - Difficulty / Balance
        - What drives difficulty
            - Unplanned priorities
            - Lack of resources
            - Competing priorities
- Milestone X | **Package as Electron App**
    - Security
        - Since I'm using electron, I should evaluate my dependencies for safety: https://www.electronjs.org/docs/latest/tutorial/security#security-is-everyones-responsibility
        - [Security Recommendations](https://www.electronjs.org/docs/latest/tutorial/security#checklist-security-recommendations)
    - Menu for community server selector
    - Allow running local standalone server from inside app
- Milestone | **Optimize game**
    - Optimize runPredictions: especially with expanding + corpse explosion
    - repelCircleFromLine is used for both unit crowding and wall physics and with wall physics it doesn't need a reference to underworld, that's only needed for unit crowding to make sure they don't crowd each other through walls
    - Memory Leaks: call destroy() on any Graphics object you no longer need to avoid memory leaks.
    - Stress test droplets to see how many users they can support
    - Check ImmediateModeSprites for leaks
    - Support huge numbers of mobs (100? 500? 1000?)
        - Profile and figure out where the weak points are
    - Saw slowdown with "+ Radius" * 4 then Bloat, then Slice
    - updateCameraPosition is somehow taking a long time
    - copyForPredictionUnit is slow for many units
- Milestone **Strech 1**
    - Protection should be able to be cast on dead units to keep priest from resurrecting them
    - [Mod support](https://partner.steamgames.com/doc/features/workshop)
    - Server customization (like Worms Armageddon)
        - Turn time
        - Pvp mode (more factions)
    - Perks | "upgrades" with some random attributes | The more dimentions you add the better!
        - % chance to get more stamina on level start
        - % chance to start level with mob on your faction
        - % chance that casting wont consume mana
        - % chance to freeze on damage
        - one time: 50/50 chance to incrase max stat or decrease it
        - make 1 random spell permanently more expensive and another permanently cheaper
        - Skill tree
        - Critical chances
        - Time challenges - beat the level in less than 3 turns
        - Make wagers - risk / reward
            - even with the difficulty of the next level
        - pseudo class system
        - item that makes your stronger but it randomizes your spawn

## Definition of Done
- DONE Stable Multiplayer
- DONE Supports 100 units
- DONE Complete Menu with options
- DONE Packaged in Electron App
- Supports 1000 units
- Bug Reporting built in (e.g. Save game state and send it to me)
- Simple to connect with friends in multiplayer
- Test on Slow Computer