# Desired Schedule
- December
    - Main tasks
        - Make and publish Gameplay trailer
        - **big** Improve exe packaging for steam updates so it doesn't have to reinstall the whole thing every time
            - How to handle updates:
                - Every release should make a manefest and a bunch of assets (.js, .css, .png, .mp3, etc) available on the static site.
                - On every boot of the game it requests the manifest (which should be super quick). (make sure it never caches)
                - If the request fails or timesout (no network, etc), just run the local version of the game
                    - Give a button to manually update, maybe it's just a super slow network and they should be able to manually update if they are behind version
                - Once it has the manifest, it then compares the version numbers, if the manifest has a greater version number it downloads all the assets in the manifest.
                    - If full download is successful it replaces all the local assets and runs the game
                    - if it's not, report the failure and run the game with the previous assets
                - In this way, delta updates are possible, the user wont have to "restart to get updates" and it will work offline.
    - Smaller Tasks
        - verify `UI zoom` restored from settings in electron app (due to 63643c06)
        - Start reaching out to steamers and reviewers and send demo
        - Submit demo to IGN
            - need gameplay video first
    - How to visually stack modifiers such as blood_curse and debilitate
        - On hover?
    - Verify that there are no bugs with showUpgrades refactor 02362aa9
- January
    - Figure out how to support modding
    - build: remove unneeded nuget package from build output?
        - Can't remove, it is the update file https://github.com/vercel/hazel#updatewin32versionreleases
        - Maybe I can remove it if I don't use the built-in update
    - Invent new loop biomes by colorizing old biome tiles for looping
    - Optimize runPredictions
        - especially with expanding + corpse explosion
    - Use Steamworks "Currator Connect" Tool
    - Support hosting a server from in the game exe
    - [Steamworks web api](https://partner.steamgames.com/doc/webapi_overview)
    - Icons for perks
    - Establish Minimum System Requirements and update Steam Page
    - Accessability / Localization Language Support / Spellcheck
    - Squirrel Tasks
        - Ensure 'electron-squirrel-startup' is handled correctly
        - Ensure start app isn't added to desktop
    - Electron Security
    - Verify Cloud Saves
    - Add sentry errors to electron node files
    - Server Browser
    - Balance Enemies
    - Balance Perks
    - Satisfying end game (boss unit needed like the literal throne in Nuclear Throne)
        - Obvious looping, maybe tint levels or something
    - Update music so it only changes song group once you reach a new biome
        - and so it will continue a song if the next level is in the same biome
    - Manually test all spells for desync issues (in multiplayer)
    - Release
- Extras
    - tint levels just like enemies when looping??
    - atmospheric effects like dust?
    - Nice camera
        - exciting akira moment
        - Cinematic boss intro

- Allow over 3x mana? How else will people afford to summon expensive units?
- Make all perks stackable
- make music play in menu
    
- Short circuit expensive runPredictions
    - Any way to make many forceMoves run asyncronously?
- Exe optimized for updates & modding?
- Dynamic difficulty?
    - Allow spawning enemies sooner based on lifetime performance?
- "How To" guides
- Allow opening dev tools in exe
# Critical Path
- Milestone | **Trailers & Marketing**
    - Gameplay Trailer
    - The Release Trailer
        - Rethink next trailer
            - Needs more text explaining the concept
            - Lead with "fun"
            - Remove "dead time"
            - Less time watching the Spellmason cast over and over, just cut to the spell
            - get into the action fast
            - Communicate the big idea
        - Scenes
            - Spellmasons charges up epic cast, show priest getting decimated by slices
            - One more scene TBD:
            - Title Card: "Each spell affects the next"
            - Scene demonstrating above title card - maybe decoy, push, bloat, slice
            - Title Card: "Your creativity is your greatest weapon"
            - Scene showing how making a small change can impact the outcome greatly
                - footage-video/2ndRoundTrailerFootage/plan-in-out.mp4
        - Title Cards
            - Devise
        - Trailer Research - Show in moments what special about the game:
            - "Each spell affects the next" is better than the ambiguous "combine spells"
        - Trailer Research - FTL:
            - Fades in UI
            - Slow pan in of camera, swoop focus area of interest
            - Lot of variety. Biome orders: grass, factory, desert (and cinematic event), lava (with time breach event)
                - after that it cuts to title cards, then menus, then ice level, back to grass, snow, shows abilities like freeze and poison
            - Shows In game planning view
        - [Trailer Research - Spelunky 2](https://www.youtube.com/watch?v=Z6JVT2Sp8aQ):
            - 15 seconds in, something funny
            - you get an idea that it's a platformer right away
            - then it slows down to give you an idea of what it's like
            - title card: "Play with friends online"
            
    - Cut Demo
    - Reach out to streamers & Reviewers
- Milestone | **Finish Gameplay**
    - End of game scaling
        - boss
        - unlocks
    - More Perks
- Milestone | **Efficient Game Updates**
    - Move game logic to js files that live near the executable
        - This is necessary to support steam workshop mods
    - Don't obfuscate
- Milestone X | **Package as Electron App**
    - Security
        - Since I'm using electron, I should evaluate my dependencies for safety: https://www.electronjs.org/docs/latest/tutorial/security#security-is-everyones-responsibility
        - [Security Recommendations](https://www.electronjs.org/docs/latest/tutorial/security#checklist-security-recommendations)
    - Menu for community server selector
    - Allow running local standalone server from inside app
- Milestone | **Optimize game**
    - repelCircleFromLine is used for both unit crowding and wall physics and with wall physics it doesn't need a reference to underworld, that's only needed for unit crowding to make sure they don't crowd each other through walls
    - Memory Leaks: call destroy() on any Graphics object you no longer need to avoid memory leaks.
    - Stress test droplets to see how many users they can support
    - Check ImmediateModeSprites for leaks
    - Support huge numbers of mobs (100? 500? 1000?)
        - Profile and figure out where the weak points are
    - Saw slowdown with "+ Radius" * 4 then Bloat, then Slice
    - updateCameraPosition is somehow taking a long time
    - copyForPredictionUnit is slow for many units
- Milestone **Strech 1**
    - [Mod support](https://partner.steamgames.com/doc/features/workshop)
    - Server customization (like Worms Armageddon)
        - Turn time
        - Pvp mode (more factions)
    - Perks | "upgrades" with some random attributes | The more dimentions you add the better!
        - % chance to get more stamina on level start
        - % chance to start level with mob on your faction
        - % chance that casting wont consume mana
        - % chance to freeze on damage
        - one time: 50/50 chance to incrase max stat or decrease it
        - make 1 random spell permanently more expensive and another permanently cheaper
        - Skill tree
        - Critical chances
        - Time challenges - beat the level in less than 3 turns
        - Make wagers - risk / reward
            - even with the difficulty of the next level
        - pseudo class system
        - item that makes your stronger but it randomizes your spawn

## Definition of Done
- DONE Stable Multiplayer
- DONE Supports 100 units
- DONE Complete Menu with options
- DONE Packaged in Electron App
- Supports 1000 units
- Bug Reporting built in (e.g. Save game state and send it to me)
- Simple to connect with friends in multiplayer
- Test on Slow Computer